<x-filament-widgets::widget>
    <x-filament::section
        :heading="static::$heading"
        description="View detailed information and location of the selected record."
    >
        @if ($this->record)
            <div class="space-y-3">
                <div class="grid grid-cols-2 gap-3">
                    <div class="col-span-2">
                        <h3 class="text-lg font-bold">{{ $this->record->personnamn }}</h3>
                    </div>

                    <!-- Address Information -->
                    <div class="col-span-1">
                        <p class="text-sm text-gray-600 dark:text-gray-400">Address</p>
                        <p class="font-medium">{{ $this->record->gatuadress ?? '-' }}</p>
                    </div>
                    <div>
                        <p class="text-sm text-gray-600 dark:text-gray-400">Postal Code</p>
                        <p class="font-medium">{{ $this->record->postnummer ?? '-' }}</p>
                    </div>
                    <div>
                        <p class="text-sm text-gray-600 dark:text-gray-400">City</p>
                        <p class="font-medium">{{ $this->record->postort ?? '-' }}</p>
                    </div>

                    <!-- Personal Information -->
                    <div>
                        <p class="text-sm text-gray-600 dark:text-gray-400">First Name</p>
                        <p class="font-medium">{{ $this->record->fornamn ?? '-' }}</p>
                    </div>
                    <div>
                        <p class="text-sm text-gray-600 dark:text-gray-400">Last Name</p>
                        <p class="font-medium">{{ $this->record->efternamn ?? '-' }}</p>
                    </div>
                    <div>
                        <p class="text-sm text-gray-600 dark:text-gray-400">Phone</p>
                        <p class="font-medium">{{ $this->record->telefon ?? '-' }}</p>
                    </div>
                    <div>
                        <p class="text-sm text-gray-600 dark:text-gray-400">Phone Numbers</p>
                        <p class="font-medium">
                            @if($this->record->telfonnummer && is_array($this->record->telfonnummer) && count($this->record->telfonnummer) > 0)
                                {{ implode(', ', $this->record->telfonnummer) }}
                            @else
                                -
                            @endif
                        </p>
                    </div>

                    <!-- Identification -->
                    <div>
                        <p class="text-sm text-gray-600 dark:text-gray-400">Personal Number</p>
                        <p class="font-medium">{{ $this->record->personnummer ?? '-' }}</p>
                    </div>
                    <div>
                        <p class="text-sm text-gray-600 dark:text-gray-400">Gender</p>
                        <p class="font-medium">{{ $this->record->kon ?? '-' }}</p>
                    </div>
                    <div>
                        <p class="text-sm text-gray-600 dark:text-gray-400">Marital Status</p>
                        <p class="font-medium">{{ $this->record->civilstand ?? '-' }}</p>
                    </div>
                    <div>
                        <p class="text-sm text-gray-600 dark:text-gray-400">Email Addresses</p>
                        <p class="font-medium">
                            @if($this->record->epost_adress && is_array($this->record->epost_adress) && count($this->record->epost_adress) > 0)
                                {{ implode(', ', $this->record->epost_adress) }}
                            @else
                                -
                            @endif
                        </p>
                    </div>

                    <!-- Housing Information -->
                    <div>
                        <p class="text-sm text-gray-600 dark:text-gray-400">Housing Type</p>
                        <p class="font-medium">{{ $this->record->bostadstyp ?? '-' }}</p>
                    </div>
                    <div>
                        <p class="text-sm text-gray-600 dark:text-gray-400">Ownership Form</p>
                        <p class="font-medium">{{ $this->record->agandeform ?? '-' }}</p>
                    </div>
                    <div>
                        <p class="text-sm text-gray-600 dark:text-gray-400">Year Built</p>
                        <p class="font-medium">{{ $this->record->byggar ?? '-' }}</p>
                    </div>
                    <div>
                        <p class="text-sm text-gray-600 dark:text-gray-400">Address Change</p>
                        <p class="font-medium">{{ $this->record->adressandring ?? '-' }}</p>
                    </div>

                    <!-- Business & Assets -->
                    <div>
                        <p class="text-sm text-gray-600 dark:text-gray-400">Company Engagements</p>
                        <p class="font-medium">
                            @if($this->record->bolagsengagemang && is_array($this->record->bolagsengagemang))
                                {{ count($this->record->bolagsengagemang) }}
                            @else
                                0
                            @endif
                        </p>
                    </div>
                    <div>
                        <p class="text-sm text-gray-600 dark:text-gray-400">Vehicles</p>
                        <p class="font-medium">
                            @if($this->record->fordon && is_array($this->record->fordon))
                                {{ count($this->record->fordon) }}
                            @else
                                0
                            @endif
                        </p>
                    </div>
                    <div>
                        <p class="text-sm text-gray-600 dark:text-gray-400">People Associated</p>
                        <p class="font-medium">
                            @if($this->record->personer && is_array($this->record->personer))
                                {{ count($this->record->personer) }}
                            @else
                                0
                            @endif
                        </p>
                </div>
            </div>
        @else
            <div class="p-6 text-center text-gray-500 dark:text-gray-400">
                <p>Select a record from the table to view details.</p>
            </div>
        @endif
    </x-filament::section>
</x-filament-widgets::widget>
