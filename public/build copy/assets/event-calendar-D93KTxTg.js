import{j as ce}from"./app-De-pmVM3.js";import{j as J,k as q,l as At,B,m as C,_ as l,N as ye,n as Ve,o as Gt,p as rt,q as at,r as lt,s as qt,S as ot,t as L,R as U,v as A,w as P,x as r,V as Se,y as ee,z as ve,A as dt,C as be,F as ct,G as V,H as v,I as D,J as F,K as ht,L as I,g as se,M as ue,O as Ye,P as re,Q as ne,f as ae,W as ge,D as Y,T as We,U as _,X as Re,Y as we,Z as Q,$ as ut,a0 as gt,a1 as ft,a2 as fe,a3 as Ie,a4 as Ut,a5 as De,a6 as Xt,a7 as He,a8 as te,a9 as _t,aa as Vt,ab as Yt,ac as mt,c as Ce,ad as $t,ae as Pe,af as pt,ag as yt,i as j,ah as Ee,ai as $e,aj as ke,ak as Kt,al as Zt,am as Te,an as Jt,ao as Be,ap as Qt,aq as es,ar as ts,as as me,at as ss,au as ns,av as is,aw as rs,ax as St,ay as as,az as ls,aA as os,aB as ds,u as cs,E as hs,b as us,aC as gs,d as fs,h as ms}from"./event-calendar-views-CFG-p721.js";class Le extends ot{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(e,s){return s.sliceRange(e)}}const ps=new Date(2592e5);function vt(i,e,s,t,n,a){const o=bt(i,e,s,t,n,a),d=at(s,a.dateEnv);if(e)for(const h of o.dataConfigs)qt(h.dateMarker,d,a.dateEnv)&&(h.renderProps.isMajor=!0);return[o]}function bt(i,e,s,t,n,a,o,d){return{isDateRow:!0,renderConfig:ys(a),dataConfigs:Ss(i,e,s,t,n,a,o,void 0,void 0,void 0,void 0,d)}}function ys(i){const{options:e}=i;return{generatorName:"dayHeaderContent",customGenerator:e.dayHeaderContent,classNameGenerator:e.dayHeaderClass,innerClassNameGenerator:e.dayHeaderInnerClass,didMount:e.dayHeaderDidMount,willUnmount:e.dayHeaderWillUnmount,align:e.dayHeaderAlign,sticky:e.dayHeaderSticky}}const Rt=[];for(let i=0;i<7;i++)Rt.push(J(new Date(2592e5),i));function Ss(i,e,s,t,n,a,o=1,d="",h={},c={},g="",f){const{dateEnv:u,viewApi:m,options:p}=a;return e?i.map((S,w)=>{const R=se(S,u,s,t),y=f!=null&&!(w%f),[E,b]=u.format(S,n),H=p.navLinks&&!R.isDisabled&&i.length>1,x=Object.assign(Object.assign(Object.assign({},R),h),{text:E,textParts:b,get weekdayText(){return Ye(b)},get dayNumberText(){return e?ue(b):""},isMajor:y,isNarrow:!1,isSticky:!1,inPopover:!1,level:0,hasNavLink:H,view:m}),N=re(a,S);return{key:d+S.toUTCString(),dateMarker:S,renderProps:x,attrs:Object.assign(Object.assign(Object.assign({"aria-label":N},R.isToday?{"aria-current":"date"}:{}),{"data-date":ae(S)}),c),innerAttrs:H?ne(a,S,void 0,N):{"aria-hidden":!0},colSpan:o,hasNavLink:H,className:g}}):i.map((S,w)=>{const R=S.getUTCDay(),y=J(ps,R),E={date:u.toDate(S),dow:R,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},b=f!=null&&!(w%f),[H,x]=u.format(y,n),N=Object.assign(Object.assign(Object.assign({},E),{date:Rt[R],isMajor:b,isNarrow:!1,isSticky:!1,inPopover:!1,hasNavLink:!1,level:0,view:m,text:H,textParts:x,get weekdayText(){return Ye(x)},get dayNumberText(){return e?ue(x):""}}),h),T=u.format(y,ge)[0];return{key:d+String(R),dateMarker:S,renderProps:N,attrs:Object.assign({"aria-label":T},c),innerAttrs:{"aria-hidden":!0},colSpan:o,className:g}})}function K(i){return He(i)+":"+i.start+(i.standinFor?":standin":i.isSlice?":slice":"")}function he(i,e){const s=[];for(let t=0;t<e;t++)s[t]=[];for(const t of i)s[t.row].push(t);return s}function Ke(i,e){const s=[];if(i){for(let t=0;t<e;t++)s[t]={affectedInstances:i.affectedInstances,isEvent:i.isEvent,segs:[]};for(const t of i.segs)s[t.row].segs.push(t)}else for(let t=0;t<e;t++)s[t]=null;return s}function Ze(i,e){return Object.assign(Object.assign({},i),{start:e,end:e+1,isStart:i.isStart&&i.start===e,isEnd:i.isEnd&&i.end-1===e,standinFor:i})}const wt=q({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function Dt(i){let{display:e}=i.eventRange.ui;return e==="list-item"||e==="auto"&&!i.eventRange.def.allDay&&i.end-i.start===1&&i.isStart&&i.isEnd}class vs extends B{render(){let{props:e}=this;return l(mt,{display:"row",className:e.className,isNarrow:e.isNarrow,isMicro:e.isMicro,dateProfile:e.dateProfile,todayRange:e.todayRange,allDayDate:e.allDayDate,segs:e.segs,hiddenSegs:e.hiddenSegs,alignElRef:e.alignElRef,alignParentTop:e.alignParentTop,dateSpanProps:e.dateSpanProps,popoverContent:()=>l(F,null,e.segs.map(s=>{let{eventRange:t}=s,{instanceId:n}=t.instance,a=!!(e.eventDrag&&e.eventDrag.affectedInstances[n]),o=!!(e.eventResize&&e.eventResize.affectedInstances[n]);return l("div",{key:n,style:{visibility:a||o?"hidden":void 0}},l(we,Object.assign({display:Dt(s)?"list-item":"row",eventRange:t,isStart:s.isStart,isEnd:s.isEnd,isDragging:a,isResizing:o,isMirror:!1,isSelected:n===e.eventSelection,defaultTimeFormat:wt,defaultDisplayEventEnd:!1},Q(t,e.todayRange))))}))})}}class bs extends Y{constructor(){super(...arguments),this.getDateMeta=C(se),this.refineRenderProps=Ut(Ds),this.rootElRef=L(),this.handleBodyEl=e=>{this.disconnectBodyHeight&&(this.disconnectBodyHeight(),this.disconnectBodyHeight=void 0,I(this.props.headerHeightRef,null),I(this.props.mainHeightRef,null)),e&&(this.disconnectBodyHeight=De(e,(s,t)=>{const{props:n}=this,a=e.getBoundingClientRect(),o=this.rootElRef.current.getBoundingClientRect(),d=a.top-o.top;Xt(this.headerHeight,d)||(this.headerHeight=d,I(n.headerHeightRef,d)),n.fgLiquidHeight&&I(n.mainHeightRef,t)}))}}render(){let{props:e,context:s}=this,{options:t,dateEnv:n}=s;const a=e.showDayNumber&&ws(e.date,e.dateProfile.currentRange,n),o=this.getDateMeta(e.date,n,e.dateProfile,e.todayRange),d=v(e.borderStart?r.borderOnlyS:r.borderNone,e.width!=null?"":r.liquid,r.flexCol),h=t.navLinks,c=this.refineRenderProps({date:e.date,isMajor:e.isMajor,isNarrow:e.isNarrow,dateMeta:o,hasLabel:e.showDayNumber,hasMonthLabel:a,hasNavLink:h,renderProps:e.renderProps,viewApi:s.viewApi,dateEnv:s.dateEnv,monthStartFormat:t.monthStartFormat,dayCellFormat:t.dayCellFormat,businessHours:!!t.businessHours});if(o.isDisabled)return l("div",{role:"gridcell","aria-disabled":!0,className:P(D(t.dayCellClass,c),e.className,d),style:{width:e.width}});const g=re(s,e.date);return l(_,{tag:"div",elRef:this.rootElRef,className:v(e.className,d),attrs:Object.assign(Object.assign(Object.assign(Object.assign({},e.attrs),{role:"gridcell","aria-label":g}),c.isToday?{"aria-current":"date"}:{}),{"data-date":ae(e.date)}),style:{width:e.width},renderProps:c,generatorName:"dayCellTopContent",customGenerator:t.dayCellTopContent,defaultGenerator:Rs,classNameGenerator:t.dayCellClass,didMount:t.dayCellDidMount,willUnmount:t.dayCellWillUnmount},f=>l(F,null,l("div",{className:v(r.rel,D(t.dayCellTopClass,c))},e.showDayNumber&&l(f,{tag:"div",attrs:h?ne(s,e.date,void 0,g):{"aria-hidden":!0},className:D(t.dayCellTopInnerClass,c)})),l("div",{className:v(r.flexCol,e.fgLiquidHeight?r.liquid:r.grow),ref:this.handleBodyEl},l("div",{className:D(t.dayCellInnerClass,c),style:{minHeight:e.fgHeight}},e.fg),l(vs,{className:r.rel,allDayDate:e.date,segs:e.segs,hiddenSegs:e.hiddenSegs,alignElRef:this.rootElRef,alignParentTop:e.showDayNumber?"[role=row]":`.${r.internalView}`,dateSpanProps:e.dateSpanProps,dateProfile:e.dateProfile,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,todayRange:e.todayRange,isNarrow:e.isNarrow,isMicro:e.isMicro})),l("div",{className:v(r.rel,D(t.dayCellBottomClass,c))})))}}function Rs(i){return i.text||l(F,null,"Â ")}function ws(i,e,s){const{start:t,end:n}=e,a=Yt(n,-1),o=s.getYear(t),d=s.getMonth(t),h=s.getYear(a),c=s.getMonth(a);return!(o===h&&d===c)&&(i.valueOf()===t.valueOf()||s.getDay(i)===1&&i.valueOf()<n.valueOf())}function Ds(i){let{date:e,dateEnv:s,hasLabel:t,hasMonthLabel:n,hasNavLink:a,businessHours:o}=i,[d,h]=t?s.format(e,n?i.monthStartFormat:i.dayCellFormat):["",[]];return Object.assign(Object.assign(Object.assign({},i.dateMeta),i.renderProps),{text:d,textParts:h,isMajor:i.isMajor,isNarrow:i.isNarrow,inPopover:!1,hasNavLink:a,get dayNumberText(){return ue(h)},get monthText(){return Vt(h)},options:{businessHours:o},view:i.viewApi})}function Hs(i,e,s,t,n,a=!0,o,d){let h,c,g;o===!0||d===!0?(h=t,g=!0):typeof o=="number"?(c=o,g=!1):typeof d=="number"&&(c=d,g=!0);const f=new Map,u=new Map,m=new Map,p=new Map;let S=new Ie(i,b=>e.get(K(b)),n,h,c,g,a);S.traverseSegs((b,H)=>{xe(f,b),m.set(K(b),H),b.isSlice&&p.set(b.eventRange,!0)});for(const b of S.hiddenSegs)xe(u,b);if(p.size){m.clear(),S=new Ie(Cs(i,f),b=>e.get(K(b)),n,h,c,g),S.traverseSegs((b,H)=>{m.set(K(b),H)});for(const b of S.hiddenSegs)xe(u,b)}const w=[],R=[],y=[],E=[];for(let b=0;b<s.length;b++)w.push([]),R.push([]),y.push([]),E.push(0);for(const b of i){const{eventRange:H}=b,x=f.get(H)||[],N=u.get(H)||[],T=p.get(H)||!1;if(y[b.start].push(b),T)for(const M of x)y[M.start].push(M);for(const M of x){for(let z=M.start;z<M.end;z++){const O=Ze(M,z);w[z].push(O)}const W=K(M),k=m.get(W);if(k!=null){const z=e.get(W);for(let O=M.start;O<M.end;O++)E[O]=Math.max(E[O],k+z)}}for(const M of N)for(let W=M.start;W<M.end;W++){const k=Ze(M,W);w[W].push(k),R[W].push(k)}}return[w,R,y,m,E]}function xe(i,e){let s=i.get(e.eventRange);s||i.set(e.eventRange,s=[]),s.push(e)}function Cs(i,e){const s=[];for(const t of i)s.push(...e.get(t.eventRange)||[]);return s}function Ht(i,e,s){const t=new rt(i.renderRange,e),n=/year|month|week/.test(i.currentRangeUnit),a=!n&&at(i,s);return new lt(t,n,s,a)}function Ct(i,e,s){return s==null?[void 0,void 0]:s/i<e?[e*i,e]:[s,void 0]}function Es(i,e,s,t=0){let n=0;for(const a of e){const o=a[0].date,d=a[a.length-1].date,h=o.toISOString();if(i>=o&&i<=d)return n;const c=s.get(h);if(c==null)return;n+=c+t}return n}function Je(i,e,s){let t,n;if(e!=null)t=i.start*e,n=(s-i.end)*e;else{const a=1/s;t=te(i.start*a),n=te(1-i.end*a)}return{insetInlineStart:t,insetInlineEnd:n}}function Oe(i,e,s,t,n){const a=s??e/t,o=Math.floor(i/a),d=n?t-o-1:o,h=o*a,c=h+a;return{col:d,left:h,right:c}}function Ns(i,e,s){let t=0,n=0,a=0;for(const o of e){const d=o[0].key;if(n=a,a=n+s.get(d),i<a)break;t++}return{row:t,top:n,bottom:a}}function Ms(i,e){return i.querySelectorAll("[role=row]")[e]}function Fe(i,e){return i.querySelectorAll("[role=gridcell]")[e]}const le=50,xs=q({weekday:"narrow"});function ze(i,e,s){return i||Is(e,s)}function Is(i,e){return i?e>1?q({weekday:"short",weekdayJustify:"start",day:"numeric",omitCommas:!0}):q({weekday:"long",weekdayJustify:"start",day:"numeric",omitCommas:!0}):q({weekday:"short"})}class Ts extends _t{constructor(){super(...arguments),this.rootElRef=L()}render(){const{props:e}=this;return l("div",{className:v(e.className,r.abs),style:e.style,ref:this.rootElRef},e.children)}componentDidMount(){const e=this.rootElRef.current;this.disconnectHeight=fe(e,s=>{I(this.props.heightRef,s)})}componentWillUnmount(){this.disconnectHeight(),I(this.props.heightRef,null)}}const Ws=q({week:"narrow"});class Et extends B{constructor(){super(...arguments),this.headerHeightRefMap=new U(()=>{A(this.handleSegPositioning)}),this.mainHeightRefMap=new U(()=>{(this.props.dayMaxEvents===!0||this.props.dayMaxEventRows===!0)&&A(this.handleSegPositioning)}),this.segHeightRefMap=new U(()=>{A(this.handleSegPositioning)}),this.buildWeekNumberRenderProps=C(Ps),this.handleRootEl=e=>{this.rootEl=e,I(this.props.rootElRef,e)},this.handleSegPositioning=()=>{this.forceUpdate()}}render(){const{props:e,context:s,headerHeightRefMap:t,mainHeightRefMap:n}=this,{cells:a}=e,{options:o}=s,d=e.cells[0].date,h=e.dayMaxEvents===!0||e.dayMaxEventRows===!0,c=We(e.fgEventSegs,o.eventOrder),[g,f]=this.computeFgDims(),[u,m,p,S,w]=Hs(c,this.segHeightRefMap.current,a,h?f:void 0,o.eventOrderStrict,o.eventSlicing,e.dayMaxEvents,e.dayMaxEventRows),R=[];if(g!=null){let N=0;for(const T of a){const M=t.current.get(T.key),W=g-M;R.push(w[N++]+W)}}const y=this.getHighlightSegs(),E=this.getMirrorSegs(),b=o.navLinks,H=re(s,d,"week"),x=this.buildWeekNumberRenderProps(d,s,e.cellIsNarrow,b);return l("div",{role:e.role,"aria-label":e.role==="row"?H:void 0,className:P(o.dayRowClass,e.className,r.flexRow,r.rel,r.isolate,e.forPrint&&e.basis!==void 0&&r.printSiblingRow),style:{"flex-basis":e.basis},ref:this.handleRootEl},e.showWeekNumbers&&!e.cellIsMicro&&l(_,{tag:"div",attrs:Object.assign(Object.assign({},b?ne(s,d,"week",H,!1):{}),{role:void 0,"aria-hidden":!0}),className:r.z1,renderProps:x,generatorName:"inlineWeekNumberContent",customGenerator:o.inlineWeekNumberContent,defaultGenerator:Re,classNameGenerator:o.inlineWeekNumberClass,didMount:o.inlineWeekNumberDidMount,willUnmount:o.inlineWeekNumberWillUnmount}),this.renderFillSegs(e.businessHourSegs,"non-business"),this.renderFillSegs(e.bgEventSegs,"bg-event"),this.renderFillSegs(y,"highlight"),e.cells.map((N,T)=>{const M=this.renderFgSegs(g,p[T],S,e.todayRange,!1);return l(bs,{key:N.key,dateProfile:e.dateProfile,todayRange:e.todayRange,date:N.date,isMajor:N.isMajor,showDayNumber:e.showDayNumbers,isNarrow:e.cellIsNarrow,isMicro:e.cellIsMicro,borderStart:!!T,segs:u[T],hiddenSegs:m[T],fgLiquidHeight:h,fg:l(F,null,M),eventDrag:e.eventDrag,eventResize:e.eventResize,eventSelection:e.eventSelection,renderProps:N.renderProps,dateSpanProps:N.dateSpanProps,attrs:N.attrs,className:N.className,fgHeight:R[T],width:e.colWidth,headerHeightRef:t.createRef(N.key),mainHeightRef:n.createRef(N.key)})}),this.renderFgSegs(g,E,S,e.todayRange,!0))}renderFgSegs(e,s,t,n,a){var o;const{props:d,segHeightRefMap:h}=this,{colWidth:c,eventSelection:g,cellIsMicro:f}=d,u=d.cells.length,m=d.cells.length===1,p=[];for(const S of s){const w=K(S),{standinFor:R,eventRange:y}=S,{instanceId:E}=y.instance;if(R)continue;const{insetInlineStart:b,insetInlineEnd:H}=Je(S,c,u),x=(o=t.get(R?K(R):w))!==null&&o!==void 0?o:a?0:void 0,N=e!=null&&x!=null?e+x:void 0,T=!!(d.eventDrag&&d.eventDrag.affectedInstances[E]),M=!!(d.eventResize&&d.eventResize.affectedInstances[E]),W=!a&&(T||M||R||N==null),k=Dt(S);p.push(l(Ts,{key:w,className:S.start?r.fakeBorderS:"",style:{visibility:W?"hidden":void 0,top:N,insetInlineStart:b,insetInlineEnd:H,zIndex:0},heightRef:!R&&!a?h.createRef(w):null},l(we,Object.assign({display:k?"list-item":"row",eventRange:y,isStart:S.isStart,isEnd:S.isEnd,isDragging:T,isResizing:M,isMirror:a,isSelected:E===g,isNarrow:d.cellIsNarrow,defaultTimeFormat:wt,defaultDisplayEventEnd:m,disableResizing:k,forcedTimeText:f?"":void 0},Q(y,n)))))}return p}renderFillSegs(e,s){const{props:t,context:n}=this,{todayRange:a,colWidth:o}=t,d=t.cells.length,h=[];for(const c of e){const g=ut(c.eventRange),{insetInlineStart:f,insetInlineEnd:u}=Je(c,o,d),m=!c.standinFor;h.push(l("div",{key:g,className:r.fillY,style:{visibility:m?"":"hidden",insetInlineStart:f,insetInlineEnd:u}},s==="bg-event"?l(gt,Object.assign({eventRange:c.eventRange,isStart:c.isStart,isEnd:c.isEnd,isNarrow:t.cellIsNarrow,isVertical:!1},Q(c.eventRange,a))):ft(s,n.options)))}return l(F,{},...h)}componentDidMount(){const{rootEl:e}=this;this.disconnectHeight=fe(e,s=>{I(this.props.heightRef,s)})}componentWillUnmount(){this.disconnectHeight(),I(this.props.heightRef,null)}computeFgDims(){const{cells:e}=this.props,s=this.headerHeightRefMap.current,t=this.mainHeightRefMap.current;let n,a;for(const o of e){const d=s.get(o.key),h=t.get(o.key);if(d!=null&&((n===void 0||d>n)&&(n=d),h!=null)){const c=d+h;(a===void 0||c<a)&&(a=c)}}return[n,a!=null&&n!=null?a-n:void 0]}getMirrorSegs(){let{props:e}=this;return e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:[]}getHighlightSegs(){let{props:e}=this;return e.eventDrag&&e.eventDrag.segs.length?e.eventDrag.segs:e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:e.dateSelectionSegs}}function Ps(i,e,s,t){const{dateEnv:n,options:a}=e,o=n.computeWeekNumber(i),[d,h]=n.format(i,a.weekNumberFormat||Ws),c=n.toDate(i);return{num:o,text:d,textParts:h,date:c,isNarrow:s,hasNavLink:t}}class je extends Y{constructor(){super(...arguments),this.splitBusinessHourSegs=C(he),this.splitBgEventSegs=C(he),this.splitFgEventSegs=C(he),this.splitDateSelectionSegs=C(he),this.splitEventDrag=C(Ke),this.splitEventResize=C(Ke),this.rowHeightRefMap=new U((e,s)=>{const{rowHeightRefMap:t}=this.props;t&&t.handleValue(e,s)}),this.handleRootEl=e=>{this.rootEl=e,e?this.context.registerInteractiveComponent(this,{el:e,isHitComboAllowed:this.props.isHitComboAllowed}):this.context.unregisterInteractiveComponent(this)}}render(){let{props:e,context:s,rowHeightRefMap:t}=this,{options:n}=s,a=e.cellRows.length,o=this.splitFgEventSegs(e.fgEventSegs,a),d=this.splitBgEventSegs(e.bgEventSegs,a),h=this.splitBusinessHourSegs(e.businessHourSegs,a),c=this.splitDateSelectionSegs(e.dateSelectionSegs,a),g=this.splitEventDrag(e.eventDrag,a),f=this.splitEventResize(e.eventResize,a),u=ee(n),m=!e.forPrint&&!u,p=Bs(e.visibleWidth,a,u,n);return l("div",{role:"rowgroup",className:v(e.className,!e.forPrint&&r.flexCol),style:{width:e.width},ref:this.handleRootEl},e.cellRows.map((S,w)=>l(Et,{key:S[0].key,role:"row",dateProfile:e.dateProfile,todayRange:e.todayRange,cells:S,cellIsNarrow:e.cellIsNarrow,cellIsMicro:e.cellIsMicro,showDayNumbers:a>1,showWeekNumbers:a>1&&n.weekNumbers,forPrint:e.forPrint,className:v(m&&r.grow,a>1&&r.breakInsideAvoid,w<a-1?r.borderOnlyB:r.borderNone),fgEventSegs:o[w],bgEventSegs:d[w].filter(ks),businessHourSegs:h[w],dateSelectionSegs:c[w],eventSelection:e.eventSelection,eventDrag:g[w],eventResize:f[w],dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,colWidth:e.colWidth,basis:p,heightRef:t.createRef(S[0].key)})))}queryHit(e,s,t,n){const{props:a}=this,o=a.cellRows[0].length,{col:d,left:h,right:c}=Oe(s,n,a.colWidth,o,e),{row:g,top:f,bottom:u}=Ns(t,a.cellRows,this.rowHeightRefMap.current),m=a.cellRows[g][d],p=m.date,S=J(p,1);return{dateProfile:a.dateProfile,dateSpan:Object.assign({range:{start:p,end:S},allDay:!0},m.dateSpanProps),getDayEl:()=>Fe(Ms(this.rootEl,g),d),rect:{left:h,right:c,top:f,bottom:u},layer:0}}}function ks(i){return i.eventRange.def.allDay}function Bs(i,e,s,t){if(i!=null){const n=i/t.aspectRatio/6;return e>6||s?n:0}return 0}class Ls extends B{constructor(){super(...arguments),this.handleInnerEl=e=>{this.disconnectSize&&(this.disconnectSize(),this.disconnectSize=void 0),e?this.disconnectSize=De(e,(s,t)=>{I(this.props.innerHeightRef,t),this.align==="center"&&this.isSticky&&this.setState({innerWidth:s})}):I(this.props.innerHeightRef,null)}}render(){const{props:e,state:s,context:t}=this,{renderConfig:n,dataConfig:a}=e,o=a.renderProps.isDisabled,d=Object.assign(Object.assign({},a.renderProps),{isNarrow:e.cellIsNarrow,level:e.rowLevel});if(e.cellIsMicro){const[m,p]=t.dateEnv.format(a.dateMarker,xs);d.text=d.weekdayText=m,d.textParts=p}const h=n.align,c=this.align=typeof h=="function"?h({level:e.rowLevel,inPopover:a.renderProps.inPopover,isNarrow:e.cellIsNarrow}):h,g=n.sticky,f=this.isSticky=e.rowLevel&&g!==!1;let u;return f&&(c==="center"?s.innerWidth!=null&&(u=`calc(50% - ${s.innerWidth/2}px)`):u=typeof g=="number"||typeof g=="string"?g:0),l(_,{tag:"div",attrs:Object.assign({role:"columnheader","aria-colspan":a.colSpan},a.attrs),className:v(a.className,r.tight,r.flexCol,e.borderStart?r.borderOnlyS:r.borderNone,c==="center"?r.alignCenter:c==="end"?r.alignEnd:r.alignStart,e.colWidth==null&&r.liquid,!f&&r.crop),style:{width:e.colWidth!=null?e.colWidth*(a.colSpan||1):void 0},renderProps:d,generatorName:n.generatorName,customGenerator:n.customGenerator,defaultGenerator:Re,classNameGenerator:o?void 0:n.classNameGenerator,didMount:n.didMount,willUnmount:n.willUnmount},m=>l("div",{ref:this.handleInnerEl,className:v(r.flexCol,r.rigid,f&&r.sticky),style:{left:u,right:u}},l(m,{tag:"div",attrs:a.innerAttrs,className:D(n.innerClassNameGenerator,d)})))}}class Ne extends B{constructor(){super(...arguments),this.innerHeightRefMap=new U(()=>{A(this.handleInnerHeights)}),this.handleInnerHeights=()=>{const e=this.innerHeightRefMap.current;let s=0;for(const t of e.values())s=Math.max(s,t);this.currentInnerHeight!==s&&(this.currentInnerHeight=s,I(this.props.innerHeightRef,s))}}render(){const{props:e,context:s}=this,{options:t}=s;return l("div",{role:e.role,"aria-rowindex":e.rowIndex!=null?1+e.rowIndex:void 0,className:P(t.dayHeaderRowClass,e.className,r.flexRow,r.contentBox,e.borderBottom?r.borderOnlyB:r.borderNone),style:{height:e.height}},e.dataConfigs.map((n,a)=>l(Ls,{key:n.key,renderConfig:e.renderConfig,dataConfig:n,borderStart:!!a,colWidth:e.colWidth,innerHeightRef:this.innerHeightRefMap.createRef(n.key),cellIsNarrow:e.cellIsNarrow,cellIsMicro:e.cellIsMicro,rowLevel:e.rowLevel})))}componentWillUnmount(){I(this.props.innerHeightRef,null)}}class Nt extends B{render(){const{props:e}=this,{headerTiers:s}=e;return l("div",{role:"rowgroup",className:v(e.className,r.flexCol,e.width==null&&r.liquid),style:{width:e.width}},s.map((t,n)=>l(Ne,Object.assign({},t,{key:n,role:"row",borderBottom:n<s.length-1,colWidth:e.colWidth,cellIsNarrow:e.cellIsNarrow,cellIsMicro:e.cellIsMicro,rowLevel:s.length-n-1}))))}}class Os extends B{constructor(){super(...arguments),this.handleScroller=e=>{I(this.props.scrollerRef,e)},this.handleTotalWidth=e=>{this.setState({totalWidth:e})},this.handleClientWidth=e=>{this.setState({clientWidth:e})}}render(){const{props:e,state:s,context:t}=this,{options:n}=t,{totalWidth:a,clientWidth:o}=s;let d=a!=null&&o!=null?a-o:void 0;d<3&&(d=0);const h=!e.forPrint&&!ee(n),c=!e.forPrint&&ve(n),g=e.cellRows[0].length,f=o!=null?o/g:void 0,u=f!=null&&f<=le,m=u||f!=null&&f<=n.dayNarrowWidth;return l(F,null,n.dayHeaders&&l("div",{className:v(D(n.tableHeaderClass,{isSticky:c}),e.borderlessX&&r.borderlessX,r.printHeader,c&&r.tableHeaderSticky)},l("div",{className:r.flexRow},l(Nt,{headerTiers:e.headerTiers,cellIsNarrow:m,cellIsMicro:u}),!!d&&l("div",{className:P(D(n.fillerClass,{isHeader:!0}),r.borderOnlyS),style:{minWidth:d}})),l("div",{className:D(n.dayHeaderDividerClass,{isSticky:c,options:{allDaySlot:!!n.allDaySlot}})})),l(V,{vertical:h,className:P(n.tableBodyClass,e.borderlessX&&r.borderlessX,c&&r.borderlessTop,(c||e.noEdgeEffects)&&r.noEdgeEffects,!e.forPrint&&r.flexCol,h&&r.liquid),ref:this.handleScroller,clientWidthRef:this.handleClientWidth},l(je,{dateProfile:e.dateProfile,todayRange:e.todayRange,cellRows:e.cellRows,forPrint:e.forPrint,isHitComboAllowed:e.isHitComboAllowed,className:r.grow,dayMaxEvents:e.forPrint?void 0:n.dayMaxEvents,dayMaxEventRows:n.dayMaxEventRows,fgEventSegs:e.fgEventSegs,bgEventSegs:e.bgEventSegs,businessHourSegs:e.businessHourSegs,dateSelectionSegs:e.dateSelectionSegs,eventDrag:e.eventDrag,eventResize:e.eventResize,eventSelection:e.eventSelection,visibleWidth:a,cellIsNarrow:m,cellIsMicro:u,rowHeightRefMap:e.rowHeightRefMap})),l(be,{widthRef:this.handleTotalWidth}))}}class Fs extends B{constructor(){super(...arguments),this.headerScrollerRef=L(),this.bodyScrollerRef=L(),this.footerScrollerRef=L(),this.handleTotalWidth=e=>{this.setState({totalWidth:e})},this.handleClientWidth=e=>{this.setState({clientWidth:e})}}render(){const{props:e,state:s,context:t}=this,{options:n}=t,{totalWidth:a,clientWidth:o}=s,d=a!=null&&o!=null?a-o:void 0,h=!e.forPrint&&!ee(n),c=!e.forPrint&&ve(n),g=!e.forPrint&&dt(n),f=e.cellRows[0].length,[u,m]=Ct(f,e.dayMinWidth,o),p=m!=null&&m<=le,S=p||m!=null&&m<=n.dayNarrowWidth;return l(F,null,n.dayHeaders&&l("div",{className:v(D(n.tableHeaderClass,{isSticky:c}),e.borderlessX&&r.borderlessX,r.printHeader,c&&r.tableHeaderSticky)},l(V,{horizontal:!0,hideScrollbars:!0,className:r.flexRow,ref:this.headerScrollerRef},l(Nt,{headerTiers:e.headerTiers,colWidth:m,width:u,cellIsNarrow:S,cellIsMicro:p}),!!d&&l("div",{className:P(D(n.fillerClass,{isHeader:!0}),r.borderOnlyS),style:{minWidth:d}})),l("div",{className:D(n.dayHeaderDividerClass,{isSticky:c,options:{allDaySlot:!!n.allDaySlot}})})),l(V,{vertical:h,horizontal:!0,hideScrollbars:g||e.forPrint,className:P(n.tableBodyClass,e.borderlessX&&r.borderlessX,c&&r.borderlessTop,(c||e.noEdgeEffects)&&r.noEdgeEffects,!e.forPrint&&r.flexCol,h&&r.liquid),ref:this.bodyScrollerRef,clientWidthRef:this.handleClientWidth},l(je,{dateProfile:e.dateProfile,todayRange:e.todayRange,cellRows:e.cellRows,forPrint:e.forPrint,isHitComboAllowed:e.isHitComboAllowed,className:r.grow,dayMaxEvents:e.forPrint?void 0:n.dayMaxEvents,dayMaxEventRows:n.dayMaxEventRows,fgEventSegs:e.fgEventSegs,bgEventSegs:e.bgEventSegs,businessHourSegs:e.businessHourSegs,dateSelectionSegs:e.dateSelectionSegs,eventDrag:e.eventDrag,eventResize:e.eventResize,eventSelection:e.eventSelection,colWidth:m,width:u,visibleWidth:a,cellIsNarrow:S,cellIsMicro:p,rowHeightRefMap:e.rowHeightRefMap})),!!g&&l(ct,{isSticky:!0,canvasWidth:u,scrollerRef:this.footerScrollerRef}),l(be,{widthRef:this.handleTotalWidth}))}componentDidMount(){const e=ht(this.context.pluginHooks);this.syncedScroller=new e(!0),I(this.props.scrollerRef,this.syncedScroller),this.updateSyncedScroller()}componentDidUpdate(){this.updateSyncedScroller()}componentWillUnmount(){this.syncedScroller.destroy()}updateSyncedScroller(){this.syncedScroller.handleChildren([this.headerScrollerRef.current,this.bodyScrollerRef.current,this.footerScrollerRef.current])}}class zs extends B{constructor(){super(...arguments),this.scrollerRef=L(),this.rowHeightRefMap=new U(()=>{A(this.updateScrollY)}),this.scrollDate=null,this.updateScrollY=()=>{const e=this.rowHeightRefMap.current,s=this.scrollerRef.current;if(s&&this.scrollDate){let t=Es(this.scrollDate,this.props.cellRows,e,1);t!=null&&(t&&t++,s.scrollTo({y:t}))}},this.handleScrollEnd=e=>{e&&(this.scrollDate=null)}}render(){const{props:e,context:s}=this,{options:t}=s,n=Object.assign(Object.assign({},e),{scrollerRef:this.scrollerRef,rowHeightRefMap:this.rowHeightRefMap});return l(Se,{viewSpec:s.viewSpec,attrs:{role:"grid","aria-rowcount":e.headerTiers.length+e.cellRows.length,"aria-colcount":e.cellRows[0].length,"aria-labelledby":e.labelId,"aria-label":e.labelStr},className:P(e.className,r.printRoot,t.tableClass),borderlessX:e.borderlessX,borderlessTop:e.borderlessTop,borderlessBottom:e.borderlessBottom,noEdgeEffects:e.noEdgeEffects},t.dayMinWidth?l(Fs,Object.assign({},n,{dayMinWidth:t.dayMinWidth})):l(Os,Object.assign({},n)))}componentDidMount(){this.resetScroll(),this.scrollerRef.current.addScrollEndListener(this.handleScrollEnd)}componentDidUpdate(e){e.dateProfile!==this.props.dateProfile&&this.context.options.scrollTimeReset&&this.resetScroll()}componentWillUnmount(){this.scrollerRef.current.removeScrollEndListener(this.handleScrollEnd)}resetScroll(){this.scrollDate=this.props.dateProfile.currentDate,this.updateScrollY(),this.scrollerRef.current.scrollTo({x:0})}}class js extends B{constructor(){super(...arguments),this.buildDayTableModel=C(Ht),this.buildDateRowConfigs=C(vt),this.createDayHeaderFormatter=C(ze),this.slicer=new Le}render(){const{props:e,context:s}=this,{dateProfile:t}=e,{options:n,dateEnv:a}=s,o=this.buildDayTableModel(t,s.dateProfileGenerator,a),d=o.rowCount===1,h=this.createDayHeaderFormatter(s.options.dayHeaderFormat,d,o.colCount),c=this.slicer.sliceProps(e,t,n.nextDayThreshold,s,o);return l(ye,{unit:"day"},(g,f)=>{const u=this.buildDateRowConfigs(o.headerDates,d,t,f,h,s);return l(zs,{labelId:e.labelId,labelStr:e.labelStr,dateProfile:t,todayRange:f,cellRows:o.cellRows,forPrint:e.forPrint,className:e.className,headerTiers:u,fgEventSegs:c.fgEventSegs,bgEventSegs:c.bgEventSegs,businessHourSegs:c.businessHourSegs,dateSelectionSegs:c.dateSelectionSegs,eventDrag:c.eventDrag,eventResize:c.eventResize,eventSelection:c.eventSelection,borderlessX:e.borderlessX,borderlessTop:e.borderlessTop,borderlessBottom:e.borderlessBottom,noEdgeEffects:e.noEdgeEffects})})}}class Mt extends At{buildRenderRange(e,s,t){let n=super.buildRenderRange(e,s,t),{props:a}=this;return xt({currentRange:n,snapToWeek:/^(year|month)$/.test(s),fixedWeekCount:a.fixedWeekCount,dateEnv:a.dateEnv})}}function xt(i){let{dateEnv:e,currentRange:s}=i,{start:t,end:n}=s,a;if(i.snapToWeek&&(t=e.startOfWeek(t),a=e.startOfWeek(n),a.valueOf()!==n.valueOf()&&(n=Ve(a,1))),i.fixedWeekCount){let o=e.startOfWeek(e.startOfMonth(J(s.end,-1))),d=Math.ceil(Gt(o,n));n=Ve(n,6-d)}return{start:t,end:n}}const As={dayHeaders:Boolean,dayHeaderFormat:q},Gs={dayHeaders:!0};var qs=Ce({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",optionRefiners:As,optionDefaults:Gs,views:{dayGrid:{component:js,dateProfileGeneratorClass:Mt},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}});class Qe extends B{render(){const{props:e,context:s}=this,{options:t}=s,[n,a]=s.dateEnv.format(e.dayDate,e.dayFormat),o=t.navLinks,d=Object.assign(Object.assign({},e.dateMeta),{view:s.viewApi,text:n,textParts:a,get dayNumberText(){return ue(a)},hasNavLink:o,level:e.level}),h=o?ne(this.context,e.dayDate,void 0,n,this.props.isTabbable):{};return l(_,{tag:"div",attrs:h,renderProps:d,generatorName:"listDayHeaderContent",customGenerator:t.listDayHeaderContent,defaultGenerator:Re,classNameGenerator:t.listDayHeaderInnerClass})}}class Us extends B{render(){var e,s;let{options:t,viewApi:n,viewSpec:a}=this.context,{dayDate:o,dateMeta:d}=this.props,h=!this.props.forPrint;const c=(e=t.listDayFormat)!==null&&e!==void 0?e:Xs(a),g=(s=t.listDaySideFormat)!==null&&s!==void 0?s:_s(a);let f=Object.assign(Object.assign({},d),{view:n});return l(_,{tag:"div",attrs:Object.assign({"data-date":ae(o)},d.isToday?{"aria-current":"date"}:{}),className:h?r.stickyT:"",renderProps:f,generatorName:void 0,classNameGenerator:t.listDayHeaderClass,didMount:t.listDayHeaderDidMount,willUnmount:t.listDayHeaderWillUnmount},()=>l(F,null,!!c&&l(Qe,{dayDate:o,dayFormat:c,isTabbable:!0,dateMeta:d,level:0}),!!g&&l(Qe,{dayDate:o,dayFormat:g,isTabbable:!1,dateMeta:d,level:1})))}}function Xs({durationUnit:i,singleUnit:e}){return e==="day"?ge:i==="day"||e==="week"?ge:yt}function _s({durationUnit:i,singleUnit:e}){if(e!=="day")return i==="day"||e==="week"?yt:ge}const Vs=q({hour:"numeric",minute:"2-digit",meridiem:"short"});class Ys extends B{render(){let{props:e,context:s}=this,{eventRange:t}=e,n=t.def.allDay||!e.isStart&&!e.isEnd?s.options.allDayText:void 0;return l(we,Object.assign({},e,{attrs:{role:"listitem"},forcedTimeText:n,defaultTimeFormat:Vs,disableDragging:!0,disableResizing:!0,disableZindexes:!0,display:"list-item"}))}}class $s extends B{constructor(){super(...arguments),this.getDateMeta=C(se),this.sortEventSegs=C(We)}render(){const{props:e,context:s}=this,{nowDate:t,todayRange:n}=e,{options:a}=s,o=this.getDateMeta(e.dayDate,s.dateEnv,void 0,n),d=this.sortEventSegs(e.segs,a.eventOrder),h=re(this.context,e.dayDate);return l("div",{role:"listitem","aria-label":h,className:D(a.listDayClass,Object.assign(Object.assign({},o),{view:s.viewApi}))},l(Us,{dayDate:e.dayDate,dateMeta:o,forPrint:e.forPrint}),l("div",{role:"list","aria-label":a.eventsHint,className:v(D(a.listDayEventsClass,o),r.flexCol)},d.map(c=>{const g=He(c);return l(Ys,Object.assign({key:g,eventRange:c.eventRange,slicedStart:c.slicedStart,slicedEnd:c.slicedEnd,isStart:c.isStart,isEnd:c.isEnd,isDragging:!1,isResizing:!1,isMirror:!1,isSelected:!1},Q(c.eventRange,n,t)))})))}}class Ks extends Y{constructor(){super(...arguments),this.computeDateVars=C(Js),this.eventStoreToSegs=C(this._eventStoreToSegs),this.setRootEl=e=>{e?this.context.registerInteractiveComponent(this,{el:e,disableHits:!0}):this.context.unregisterInteractiveComponent(this)}}render(){let{props:e,context:s}=this,{options:t}=s,{dayDates:n,dayRanges:a}=this.computeDateVars(e.dateProfile),o=this.eventStoreToSegs(e.eventStore,e.eventUiBases,a),d=!e.forPrint&&!ee(t);return l(Se,{viewSpec:s.viewSpec,className:v(e.className,r.flexCol),elRef:this.setRootEl,borderlessX:e.borderlessX,borderlessTop:e.borderlessTop,borderlessBottom:e.borderlessBottom,noEdgeEffects:e.noEdgeEffects},o.length?l(V,{vertical:d,className:v(r.flexCol,d?r.liquid:"")},this.renderSegList(o,n)):this.renderEmptyMessage())}renderEmptyMessage(){let{options:e,viewApi:s}=this.context,t={text:e.noEventsText,view:s};return l(_,{tag:"div",attrs:{role:"status"},renderProps:t,generatorName:"noEventsContent",customGenerator:e.noEventsContent,defaultGenerator:Zs,classNameGenerator:e.noEventsClass,className:r.grow,didMount:e.noEventsDidMount,willUnmount:e.noEventsWillUnmount},n=>l(n,{tag:"div",className:D(e.noEventsInnerClass,t)}))}renderSegList(e,s){let{options:t}=this.context,n=Qs(e);return l("div",{role:"list","aria-labelledby":this.props.labelId,"aria-label":this.props.labelStr,className:v(r.flexCol,P(t.listDaysClass))},l(ye,{unit:"day"},(a,o)=>{const d=[];for(let h=0;h<n.length;h+=1){let c=n[h];if(c){const g=s[h],f=ae(g);d.push(l($s,{key:f,dayDate:g,nowDate:a,todayRange:o,segs:c,forPrint:this.props.forPrint}))}}return l(F,null,d)}))}_eventStoreToSegs(e,s,t){return this.eventRangesToSegs($t(e,s,this.props.dateProfile.activeRange,this.context.options.nextDayThreshold).fg,t)}eventRangesToSegs(e,s){let t=[];for(let n of e)t.push(...this.eventRangeToSegs(n,s));return t}eventRangeToSegs(e,s){let t=e.range,n,a=[];for(n=0;n<s.length;n+=1){const o=Pe(t,s[n]);o&&a.push({eventRange:e,slicedStart:o.start,slicedEnd:o.end,isStart:e.isStart&&t.start.valueOf()===o.start.valueOf(),isEnd:e.isEnd&&t.end.valueOf()===o.end.valueOf(),dayIndex:n})}return a}}function Zs(i){return i.text}function Js(i){let e=pt(i.renderRange.start),s=i.renderRange.end,t=[],n=[];for(;e<s;)t.push(e),n.push({start:e,end:J(e,1)}),e=J(e,1);return{dayDates:t,dayRanges:n}}function Qs(i){let e=[],s,t;for(s=0;s<i.length;s+=1)t=i[s],(e[t.dayIndex]||(e[t.dayIndex]=[])).push(t);return e}const en={listDaysClass:j,listDayClass:j,listDayFormat:et,listDaySideFormat:et,listDayHeaderDidMount:j,listDayHeaderWillUnmount:j,listDayHeaderClass:j,listDayHeaderInnerClass:j,listDayHeaderContent:j,listDayEventsClass:j,noEventsClass:j,noEventsInnerClass:j,noEventsContent:j,noEventsDidMount:j,noEventsWillUnmount:j};function et(i){return i===!1?null:q(i)}var tn=Ce({name:"@fullcalendar/list",optionRefiners:en,views:{list:{component:Ks,buttonTextKey:"listText"},listDay:{type:"list",duration:{days:1}},listWeek:{type:"list",duration:{weeks:1}},listMonth:{type:"list",duration:{month:1}},listYear:{type:"list",duration:{year:1}}}});class sn extends Y{constructor(){super(...arguments),this.buildDayTableModel=C(Ht),this.createDayHeaderFormatter=C(ze),this.buildDateRowConfig=C(bt),this.gridElRef=L(),this.titleElRef=L(),this.tableHeaderElRef=L(),this.slicer=new Le,this.titleId=Kt(),this.handleEl=e=>{var s;const{options:t}=this.context;e&&(this.rootEl=e,(s=t.singleMonthDidMount)===null||s===void 0||s.call(t,Object.assign({el:this.rootEl},this.renderProps)))}}render(){const{props:e,state:s,context:t}=this,{dateProfile:n,forPrint:a}=e,{options:o,dateEnv:d}=t,h=this.buildDayTableModel(n,t.dateProfileGenerator,d),c=this.slicer.sliceProps(e,n,o.nextDayThreshold,t,h),g=this.createDayHeaderFormatter(o.dayHeaderFormat,!1,h.colCount),f=this.buildDateRowConfig(h.headerDates,!1,n,e.todayRange,g,t),u=!a&&e.colCount===1,m=!a||e.hasLateralSiblings,p=1/o.aspectRatio,S=h.cellRows[0].length,w=s.gridWidth!=null?s.gridWidth/S:void 0,R=w!=null&&w<=le,y=R||w!=null&&w<=o.dayNarrowWidth,E=s.gridWidth!=null?p*s.gridWidth/6:void 0,b=u?E:void 0,H=u&&E!=null&&s.tableHeaderHeight!=null?E+s.tableHeaderHeight+1:void 0,x=o.navLinks&&e.colCount>1,N={colCount:e.colCount,isSticky:u,isNarrow:y,hasNavLink:x},T=e.dateProfile.currentRange.start,M=x?ne(t,T,"month",e.isoDateStr):{};return l("div",{role:"listitem",style:{width:e.width}},l("div",{ref:this.gridElRef,role:"grid","aria-labelledby":this.titleId,"data-date":e.isoDateStr,className:v(D(o.singleMonthClass,{colCount:e.colCount||0}),e.borderlessX&&r.borderlessX,e.borderlessTop&&r.borderlessTop,e.borderlessBottom&&r.borderlessBottom,e.colCount===1&&r.noMargin,r.flexCol,e.hasLateralSiblings&&r.breakInsideAvoid)},l("div",{id:this.titleId,ref:this.titleElRef,className:v(D(o.singleMonthHeaderClass,N),u&&r.stickyT,r.flexCol),style:{zIndex:u?3:void 0,marginBottom:H}},l("div",Object.assign({},M,{className:v(D(o.singleMonthHeaderInnerClass,N),M.className)}),d.format(T,e.titleFormat))),l("div",{className:P(o.tableClass,e.borderlessX&&r.borderlessX,u&&r.borderlessTop,e.borderlessBottom&&r.borderlessBottom,r.flexCol),style:{marginTop:H!=null?-H:void 0}},l("div",{ref:this.tableHeaderElRef,className:v(D(o.tableHeaderClass,{isSticky:u}),e.borderlessX&&r.borderlessX,r.flexCol,u&&r.sticky),style:{zIndex:u?2:void 0,top:u?s.titleHeight:0,marginBottom:b}},l(Ne,Object.assign({},f,{role:"row",borderBottom:!1,cellIsNarrow:y,cellIsMicro:R,rowLevel:0})),l("div",{className:D(o.dayHeaderDividerClass,{isSticky:u,options:{allDaySlot:!!o.allDaySlot}})})),l("div",{className:P(o.tableBodyClass,r.flexCol,m&&r.rel,e.borderlessX&&r.borderlessX,u&&r.borderlessTop,(u||e.noEdgeEffects)&&r.noEdgeEffects),style:{zIndex:u?1:void 0,marginTop:b!=null?-b:void 0,paddingBottom:m?te(p):void 0}},l(je,{dateProfile:e.dateProfile,todayRange:e.todayRange,cellRows:h.cellRows,className:m?r.fill:"",forPrint:a&&!e.hasLateralSiblings,dayMaxEventRows:a&&e.hasLateralSiblings?1:!0,fgEventSegs:c.fgEventSegs,bgEventSegs:c.bgEventSegs,businessHourSegs:c.businessHourSegs,dateSelectionSegs:c.dateSelectionSegs,eventDrag:c.eventDrag,eventResize:c.eventResize,eventSelection:c.eventSelection,visibleWidth:s.gridWidth,cellIsNarrow:y,cellIsMicro:R})))))}componentDidMount(){this.disconnectGridWidth=ke(this.gridElRef.current,e=>{this.setState({gridWidth:e})}),this.disconnectTitleHeight=fe(this.titleElRef.current,e=>{this.setState({titleHeight:e})}),this.disconnectTableHeaderHeight=fe(this.tableHeaderElRef.current,e=>{this.setState({tableHeaderHeight:e})})}componentWillUnmount(){var e;const{options:s}=this.context;this.disconnectGridWidth(),this.disconnectTitleHeight(),this.disconnectTableHeaderHeight(),(e=s.singleMonthWillUnmount)===null||e===void 0||e.call(s,Object.assign({el:this.rootEl},this.renderProps))}}class nn extends Y{constructor(){super(...arguments),this.splitDateProfileByMonth=C(an),this.buildMonthFormat=C(dn),this.scrollerRef=L(),this.innerElRef=L(),this.scrollDate=null,this.handleScrollEnd=e=>{e&&(this.scrollDate=null)}}render(){const{context:e,props:s,state:t}=this,{options:n}=e,a=!s.forPrint&&!ee(n),o=this.splitDateProfileByMonth(e.dateProfileGenerator,s.dateProfile,e.dateEnv,n.fixedWeekCount,n.showNonCurrentDates),d=this.buildMonthFormat(n.singleMonthTitleFormat,o),{multiMonthMaxColumns:h,singleMonthMinWidth:c}=n,{innerWidth:g}=t;let f,u,m=!1;return g!=null&&(f=Math.max(1,Math.min(h,Math.floor(g/c))),s.forPrint&&(f=Math.min(f,2)),u=te(1/f),m=f>1),l(ye,{unit:"day"},(p,S)=>l(Se,{viewSpec:e.viewSpec,className:v(!s.forPrint&&r.flexCol,s.className),borderlessX:s.borderlessX,borderlessTop:s.borderlessTop,borderlessBottom:s.borderlessBottom,noEdgeEffects:s.noEdgeEffects},l(V,{vertical:a,className:a?r.liquid:"",ref:this.scrollerRef},l("div",{role:"list","aria-labelledby":s.labelId,"aria-label":s.labelStr,className:r.safeTiles,ref:this.innerElRef},o.map((w,R)=>{const y=$e(w.currentRange.start);return l(sn,Object.assign({},s,{key:y,todayRange:S,isoDateStr:y,titleFormat:d,dateProfile:w,width:u,colCount:f,borderlessX:f===1,borderlessTop:f===1,borderlessBottom:f===1&&R===o.length-1,hasLateralSiblings:m}))})))))}componentDidMount(){this.resetScroll(),this.scrollerRef.current.addScrollEndListener(this.handleScrollEnd),this.disconnectInnerWidth=ke(this.innerElRef.current,e=>{A(()=>{this.setState({innerWidth:e})})})}componentDidUpdate(e){e.dateProfile!==this.props.dateProfile&&this.context.options.scrollTimeReset?this.resetScroll():this.applyScroll()}componentWillUnmount(){this.scrollerRef.current.removeScrollEndListener(this.handleScrollEnd),this.disconnectInnerWidth()}resetScroll(){this.scrollDate=this.props.dateProfile.currentDate,this.applyScroll()}applyScroll(){if(this.scrollDate!=null&&this.state.innerWidth!=null){const e=this.scrollerRef.current,s=this.innerElRef.current,t=s.querySelector(`[data-date="${$e(this.scrollDate)}"]`),n=Math.ceil(t.parentNode.getBoundingClientRect().top-s.getBoundingClientRect().top);e.scrollTo({y:n})}}}const rn=Ee(1,"month");function an(i,e,s,t,n){const{start:a,end:o}=e.currentRange;let d=a;const h=[];for(;d.valueOf()<o.valueOf();){const c=s.add(d,rn),g={start:i.skipHiddenDays(d),end:i.skipHiddenDays(c,-1,!0)};let f=xt({currentRange:g,snapToWeek:!0,fixedWeekCount:t,dateEnv:s});f={start:i.skipHiddenDays(f.start),end:i.skipHiddenDays(f.end,-1,!0)};const u=e.activeRange?Pe(e.activeRange,n?f:g):null;h.push({currentDate:e.currentDate,isValid:e.isValid,validRange:e.validRange,renderRange:f,activeRange:u,currentRange:g,currentRangeUnit:"month",isRangeAllDay:!0,dateIncrement:e.dateIncrement,slotMinTime:e.slotMaxTime,slotMaxTime:e.slotMinTime}),d=c}return h}const ln=q({year:"numeric",month:"long"}),on=q({month:"long"});function dn(i,e){return i||(e[0].currentRange.start.getUTCFullYear()!==e[e.length-1].currentRange.start.getUTCFullYear()?ln:on)}const cn={multiMonthMaxColumns:Number,singleMonthMinWidth:Number,singleMonthTitleFormat:q,singleMonthDidMount:j,singleMonthWillUnmount:j,singleMonthClass:j,singleMonthHeaderClass:j,singleMonthHeaderInnerClass:j};var hn=Ce({name:"@fullcalendar/multimonth",initialView:"multiMonthYear",optionRefiners:cn,views:{multiMonth:{component:nn,dateProfileGeneratorClass:Mt,multiMonthMaxColumns:3,singleMonthMinWidth:350},multiMonthYear:{type:"multiMonth",duration:{years:1},fixedWeekCount:!0,showNonCurrentDates:!1}}});class un extends ss{getKeyInfo(){return{allDay:{},timed:{}}}getKeysForDateSpan(e){return e.allDay?["allDay"]:["timed"]}getKeysForEventDef(e){return e.allDay?ns(e)?["timed","allDay"]:["allDay"]:["timed"]}}class gn extends ot{sliceRange(e,s){let t=[];for(let n=0;n<s.length;n+=1){let a=Pe(e,s[n]);a&&t.push({startDate:a.start,endDate:a.end,isStart:a.start.valueOf()===e.start.valueOf(),isEnd:a.end.valueOf()===e.end.valueOf(),col:n})}return t}}function ie(i,e){let s=[],t;for(t=0;t<e;t+=1)s.push([]);if(i)for(t=0;t<i.length;t+=1)s[i[t].col].push(i[t]);return s}function tt(i,e){let s=[];if(i){for(let t=0;t<e;t+=1)s[t]={affectedInstances:i.affectedInstances,isEvent:i.isEvent,segs:[]};for(let t of i.segs)s[t.col].segs.push(t)}else for(let t=0;t<e;t+=1)s[t]=null;return s}const st=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];function fn(i,e,s,t,n){let a=new Date(0),o=i,d=Ee(0),h=s||mn(t),c=[],g=0;for(;me(o)<me(e);){let f=n.add(a,o),u=Be(d,h)!==null;c.push({date:f,time:o,key:f.toISOString(),isoTimeStr:is(f),isLabeled:u,isFirst:g===0}),o=Te(o,t),d=Te(d,t),g+=1}return c}function mn(i){let e,s,t;for(e=st.length-1;e>=0;e-=1)if(s=Ee(st[e]),t=Be(s,i),t!==null&&t>1)return s;return i}class It extends B{constructor(){super(...arguments),this.innerElRef=L()}render(){let{props:e}=this,{options:s,viewApi:t}=this.context,n={text:s.allDayText,view:t,isNarrow:e.isNarrow};return l(_,{tag:"div",attrs:{role:"rowheader"},className:v(r.flexRow,r.tight,r.contentBox),style:{width:e.width},renderProps:n,generatorName:"allDayHeaderContent",customGenerator:s.allDayHeaderContent,defaultGenerator:pn,classNameGenerator:s.allDayHeaderClass,didMount:s.allDayHeaderDidMount,willUnmount:s.allDayHeaderWillUnmount},a=>l(a,{tag:"div",className:v(D(s.allDayHeaderInnerClass,n),r.rigid),elRef:this.innerElRef}))}componentDidMount(){const{props:e}=this,s=this.innerElRef.current;this.disconnectInnerWidth=ke(s,t=>{I(e.innerWidthRef,t)})}componentWillUnmount(){this.disconnectInnerWidth(),I(this.props.innerWidthRef,null)}}function pn(i){return i.text}class Tt extends Y{constructor(){super(...arguments),this.heightRef=L(),this.handleRootEl=e=>{this.rootEl=e,e?this.context.registerInteractiveComponent(this,{el:e}):this.context.unregisterInteractiveComponent(this)}}render(){return l(Et,Object.assign({},this.props,{rootElRef:this.handleRootEl,heightRef:this.heightRef}))}queryHit(e,s,t,n){const{props:a,heightRef:o}=this,d=a.cells.length,{col:h,left:c,right:g}=Oe(s,n,a.colWidth,d,e),f=a.cells[h],u=f.date,m=J(u,1);return{dateProfile:a.dateProfile,dateSpan:Object.assign({range:{start:u,end:m},allDay:!0},f.dateSpanProps),getDayEl:()=>Fe(this.rootEl,h),rect:{left:c,right:g,top:0,bottom:o.current},layer:0}}}function yn(i,e,s){let t=new rt(i.renderRange,e);return new lt(t,!1,s)}function Sn(i,e,s){let t=[];for(let n of i.headerDates)t.push({start:s.add(n,e.slotMinTime),end:s.add(n,e.slotMaxTime)});return t}function Wt(i,e,s,t){if(!s||!t)return[void 0,!1];const n=s+1,a=t/e;let o,d;return i&&a>=n?(o=!0,d=a):(o=!1,d=n),[d,o]}function pe(i,e,s){return s||(s=pt(i)),Pt(Ee(i.valueOf()-s.valueOf()),e)}function Pt(i,e){const s=me(e.slotMinTime),t=me(e.slotMaxTime);let n=(i.milliseconds-s)/(t-s);return n=Math.max(0,n),n=Math.min(1,n),n}function nt(i,e,s,t,n,a,o){const d=[];if(n!=null){const h=n*t;for(const c of i){const g=pe(c.startDate,e,s),f=pe(c.endDate,e,s),u=g*h;let m=f*h,p=m-u;a!=null&&p<a&&(p=a,m=u+p),d.push({start:u,end:m,size:p,isShort:p<=o})}}return d}function vn(i,e,s,t){const n=[];for(let c=0;c<i.length;c++){const g=e[c];g&&n.push(Object.assign(Object.assign({},i[c]),{start:g.start,end:g.end}))}const a=new Ie(n,void 0,s,void 0,t);let o=bn(a);o=Hn(o,1);const d=Cn(o),h=Qt(a.hiddenSegs);return[d,h]}function bn(i){const{placementsByLevel:e}=i,s=Ae((n,a)=>n+":"+a,(n,a)=>{let o=Dn(i,n,a),[d,h]=it(o,s),c=e[n][a];return[Object.assign(Object.assign({},c),{nextLevelNodes:d}),c.thickness+h]}),[t]=it(e.length?{level:0,lateralStart:0,lateralEnd:e[0].length}:null,s);return t}function it(i,e){if(!i)return[[],0];let{level:s,lateralStart:t,lateralEnd:n}=i,a=t,o=[];for(;a<n;)o.push(e(s,a)),a+=1;return o.sort(Rn),[o.map(wn),o[0][1]]}function Rn(i,e){return e[1]-i[1]}function wn(i){return i[0]}function Dn(i,e,s){let{levelCoords:t,placementsByLevel:n}=i,a=n[e][s],o=t[e]+a.thickness,d=t.length,h=e;for(;h<d&&t[h]<o;h+=1);for(;h<d;h+=1){let c=n[h],g,f=os(c,a.start,ds),u=f[0]+f[1],m=u;for(;(g=c[m])&&g.start<a.end;)m+=1;if(u<m)return{level:h,lateralStart:u,lateralEnd:m}}return null}function Hn(i,e){const s=Ae((t,n,a)=>He(t),(t,n,a)=>{let{nextLevelNodes:o,thickness:d}=t,h=d+a,c=d/h,g,f=[];if(!o.length)g=e;else for(let m of o)if(g===void 0){let p=s(m,n,h);g=p[0],f.push(p[1])}else{let p=s(m,g,0);f.push(p[1])}let u=(g-n)*c;return[g-u,Object.assign(Object.assign({},t),{thickness:u,nextLevelNodes:f})]});return i.map(t=>s(t,0,0)[1])}function Cn(i){let e=new Map;const s=Ae((n,a,o)=>He(n),(n,a,o)=>{let d=Object.assign(Object.assign({},n),{levelCoord:a,stackDepth:o,stackForward:0});return e.set(d.eventRange.instance.instanceId,d),d.stackForward=t(n.nextLevelNodes,a+n.thickness,o+1)});function t(n,a,o){let d=0;for(let h of n)d=Math.max(s(h,a,o)+1,d);return d}return t(i,0,0),e}function Ae(i,e){const s={};return(...t)=>{let n=i(...t);return n in s?s[n]:s[n]=e(...t)}}const En=q({hour:"numeric",minute:"2-digit",meridiem:!1});class kt extends B{render(){const{props:e}=this;return l(we,Object.assign({},e,{display:"column",level:e.level,isNarrow:e.isNarrow,isShort:e.isShort,className:e.isLiquid?r.liquid:"",disableLiquid:!e.isLiquid,defaultTimeFormat:En}))}}class Nn extends B{render(){let{props:e}=this;return l("div",{className:v(r.abs,r.flexCol),style:{top:e.top,height:e.height,insetInlineEnd:0,zIndex:9999}},l(mt,{className:r.liquid,display:"column",allDayDate:null,segs:e.hiddenSegs,hiddenSegs:e.hiddenSegs,dateSpanProps:e.dateSpanProps,dateProfile:e.dateProfile,todayRange:e.todayRange,popoverContent:()=>Bt(e.hiddenSegs,e,!1),forceTimed:!0,isNarrow:e.isNarrow,isMicro:e.isMicro}))}}function Mn(i){const e=i.totalHeight!=null?i.totalHeight*pe(i.nowDate,i.dateProfile,i.dayDate):void 0;return l("div",{className:r.fill,style:{zIndex:2,pointerEvents:"none"}},l(ts,{className:v(r.fillX,r.noMarginX,r.borderlessX),style:{top:e},date:i.nowDate}),l(es,{className:v(r.abs,r.start0),style:{top:e}}))}const Z=typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes("firefox");class xn extends B{constructor(){super(...arguments),this.sortEventSegs=C(We),this.getDateMeta=C(se)}render(){let{props:e,context:s}=this,{options:t,dateEnv:n}=s,a=t.selectMirror,o=e.eventDrag&&e.eventDrag.segs||e.eventResize&&e.eventResize.segs||a&&e.dateSelectionSegs||[],d=this.getDateMeta(e.date,n,e.dateProfile,e.todayRange);const h=v(e.borderStart?r.borderOnlyS:r.borderNone,e.width==null&&r.liquid,r.rel),c={width:e.width,zIndex:1},g=e.forPrint&&Z,f=Object.assign(Object.assign(Object.assign({},d),e.renderProps),{isStack:g,isNarrow:e.isNarrow,isMajor:e.isMajor,view:s.viewApi});if(d.isDisabled)return l("div",{role:"gridcell","aria-disabled":!0,className:v(D(t.dayLaneClass,f),h),style:c});const u=v(D(t.dayLaneInnerClass,f),!g&&r.fill),m=this.sortEventSegs(e.fgEventSegs,t.eventOrder);return l(_,{tag:"div",attrs:Object.assign(Object.assign(Object.assign(Object.assign({},e.attrs),{role:"gridcell"}),d.isToday?{"aria-current":"date"}:{}),{"data-date":ae(e.date)}),className:h,style:c,renderProps:f,generatorName:void 0,classNameGenerator:t.dayLaneClass,didMount:t.dayLaneDidMount,willUnmount:t.dayLaneWillUnmount},()=>l(F,null,this.renderFillSegs(e.businessHourSegs,"non-business"),this.renderFillSegs(e.bgEventSegs,"bg-event"),this.renderFillSegs(e.dateSelectionSegs,"highlight"),l("div",{className:u,style:{zIndex:1}},this.renderFgSegs(m,!1)),!!o.length&&l("div",{className:u,style:{zIndex:1}},this.renderFgSegs(o,!0)),this.renderNowIndicator(e.nowIndicatorSegs)))}renderFgSegs(e,s){const{props:t}=this;return t.forPrint&&Z?Bt(e,t,s):this.renderPositionedFgSegs(e,s)}renderPositionedFgSegs(e,s){let{props:t,context:n}=this,{date:a,dateProfile:o,eventSelection:d,todayRange:h,nowDate:c}=t,{eventMaxStack:g,eventShortHeight:f,eventOrderStrict:u,eventMinHeight:m}=n.options,p=nt(e,o,a,t.slatCnt,t.slatHeight,m,f),[S,w]=vn(e,p,u,g);return l(F,null,e.map((R,y)=>{let{eventRange:E}=R,{instanceId:b}=E.instance,H=p[y]||{},x=S.get(b),N=!s&&x?this.computeSegHStyle(x):{left:0,right:0},T=!!(t.eventDrag&&t.eventDrag.affectedInstances[b]),M=!!(t.eventResize&&t.eventResize.affectedInstances[b]),W=!s&&(T||M||!x);return l("div",{className:v(r.abs,r.flexCol),key:b,style:Object.assign({visibility:W?"hidden":void 0,top:H.start,height:H.size},N)},l(kt,Object.assign({eventRange:E,slicedStart:R.startDate,slicedEnd:R.endDate,isStart:R.isStart,isEnd:R.isEnd,isDragging:T,isResizing:M,isMirror:s,isSelected:b===d,level:x?x.stackDepth:0,isNarrow:t.isNarrow,isShort:H.isShort||!1,isLiquid:!0},Q(E,h,c))))}),this.renderHiddenGroups(w))}renderHiddenGroups(e){let{dateSpanProps:s,dateProfile:t,todayRange:n,nowDate:a,eventSelection:o,eventDrag:d,eventResize:h,isNarrow:c,isMicro:g}=this.props;return l(F,null,e.map(f=>l(Nn,{key:f.key,hiddenSegs:f.segs,top:f.start,height:f.end-f.start,isNarrow:c,isMicro:g,dateSpanProps:s,dateProfile:t,todayRange:n,nowDate:a,eventSelection:o,eventDrag:d,eventResize:h})))}renderFillSegs(e,s){let{props:t,context:n}=this,a=nt(e,t.dateProfile,t.date,t.slatCnt,t.slatHeight,n.options.eventMinHeight,n.options.eventShortHeight);return l(F,null,e.map((o,d)=>{const{eventRange:h}=o,c=a[d]||{};return l("div",{key:ut(h),className:r.fillX,style:{top:c.start,height:c.size,marginInlineStart:-1}},s==="bg-event"?l(gt,Object.assign({eventRange:h,isStart:o.isStart,isEnd:o.isEnd,isNarrow:t.isNarrow,isShort:c.isShort||!1,isVertical:!0},Q(h,t.todayRange,t.nowDate))):ft(s,n.options))}))}renderNowIndicator(e){let{props:s}=this;if(!(s.forPrint&&Z))return e.map(t=>l(Mn,{nowDate:t.startDate,dayDate:s.date,dateProfile:s.dateProfile,totalHeight:s.slatHeight!=null?s.slatHeight*s.slatCnt:void 0}))}computeSegHStyle(e){let{options:s}=this.context,t=s.slotEventOverlap,n=e.levelCoord,a=e.levelCoord+e.thickness;t&&(a=Math.min(1,n+(a-n)*2));let o={zIndex:e.stackDepth+1,insetInlineStart:te(n),insetInlineEnd:te(1-a),marginInlineEnd:void 0};return t&&e.stackForward&&(o.marginInlineEnd=20),o}}function Bt(i,{todayRange:e,nowDate:s,eventSelection:t,eventDrag:n,eventResize:a},o){return l(F,null,i.map(d=>{let{eventRange:h}=d,{instanceId:c}=h.instance,g=!!(n&&n.affectedInstances[c]),f=!!(a&&a.affectedInstances[c]),u=g||f;return l("div",{key:c,className:r.breakInsideAvoid,style:{visibility:u?"hidden":void 0}},l(kt,Object.assign({eventRange:h,slicedStart:d.startDate,slicedEnd:d.endDate,isStart:d.isStart,isEnd:d.isEnd,isDragging:g,isResizing:f,isMirror:o,isSelected:c===t,level:0,isShort:!1,isNarrow:!1,disableResizing:!0},Q(h,e,s))))}))}class Ge extends Y{constructor(){super(...arguments),this.processSlotOptions=C(In),this.handleRootEl=e=>{this.rootEl=e,e?this.context.registerInteractiveComponent(this,{el:e,isHitComboAllowed:this.props.isHitComboAllowed}):this.context.unregisterInteractiveComponent(this)}}render(){const{props:e}=this;return l("div",{role:e.role,className:v(e.className,r.flexRow),ref:this.handleRootEl},e.cells.map((s,t)=>l(xn,{key:s.key,dateProfile:e.dateProfile,nowDate:e.nowDate,todayRange:e.todayRange,date:s.date,isMajor:s.isMajor,slatCnt:e.slatCnt,renderProps:s.renderProps,attrs:s.attrs,dateSpanProps:s.dateSpanProps,forPrint:e.forPrint,borderStart:!!t,isNarrow:e.cellIsNarrow,isMicro:e.cellIsMicro,fgEventSegs:e.fgEventSegsByCol[t],bgEventSegs:e.bgEventSegsByCol[t],businessHourSegs:e.businessHourSegsByCol[t],nowIndicatorSegs:e.nowIndicatorSegsByCol[t],dateSelectionSegs:e.dateSelectionSegsByCol[t],eventDrag:e.eventDragByCol[t],eventResize:e.eventResizeByCol[t],eventSelection:e.eventSelection,width:e.colWidth,slatHeight:e.slatHeight})))}queryHit(e,s,t,n){const{dateProfile:a,cells:o,colWidth:d,slatHeight:h}=this.props,{dateEnv:c,options:g}=this.context,{snapDuration:f,snapsPerSlot:u}=this.processSlotOptions(g.slotDuration,g.snapDuration),m=o.length,{col:p,left:S,right:w}=Oe(s,n,d,m,e),R=o[p],y=Math.floor(t/h),E=y*h,b=(t-E)/h,H=Math.floor(b*u),x=y+H*u,N=Te(a.slotMinTime,Jt(f,x)),T=c.add(R.date,N),M=c.add(T,f);return{dateProfile:a,dateSpan:Object.assign({range:{start:T,end:M},allDay:!1},R.dateSpanProps),getDayEl:()=>Fe(this.rootEl,p),rect:{left:S,right:w,top:E,bottom:E+h},layer:0}}}Ge.addPropsEquality({style:Zt});function In(i,e){let s=e||i,t=Be(i,s);return t===null&&(s=i,t=1),{snapDuration:s,snapsPerSlot:t}}function Lt(i){return l("div",{className:v(r.fill,r.crop),style:{zIndex:2,pointerEvents:"none"}},l(as,{className:r.abs,style:{top:i.totalHeight!=null?i.totalHeight*pe(i.nowDate,i.dateProfile):void 0},date:i.nowDate}))}const Tn=q({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"});class Ot extends B{constructor(){super(...arguments),this.createRenderProps=C(Wn),this.innerElRef=L()}render(){let{props:e,context:s}=this,{options:t}=s,n=t.slotHeaderFormat==null?Tn:Array.isArray(t.slotHeaderFormat)?q(t.slotHeaderFormat[0]):q(t.slotHeaderFormat),a=this.createRenderProps(e.date,e.time,!e.isLabeled,e.isNarrow,e.isFirst,n,s),o=v(e.liquidHeight&&r.liquid,r.flexRow,r.alignStart,r.tight,e.borderTop?r.borderOnlyT:r.borderNone);return e.isLabeled?l(_,{tag:"div",attrs:{"data-time":e.isoTimeStr},style:{height:e.height},className:o,renderProps:a,generatorName:"slotHeaderContent",customGenerator:t.slotHeaderContent,defaultGenerator:Pn,classNameGenerator:t.slotHeaderClass,didMount:t.slotHeaderDidMount,willUnmount:t.slotHeaderWillUnmount},d=>l("div",{ref:this.innerElRef,className:v(r.rigid,r.flexRow)},l(d,{tag:"div",className:D(t.slotHeaderInnerClass,a)}))):l("div",{className:v(D(t.slotHeaderClass,a),o),style:{height:e.height}})}componentDidMount(){const{props:e}=this,s=this.innerElRef.current;s&&(this.disconnectInnerSize=De(s,(t,n)=>{I(e.innerWidthRef,t),I(e.innerHeightRef,n)}))}componentWillUnmount(){const{props:e}=this;this.disconnectInnerSize&&(this.disconnectInnerSize(),I(e.innerWidthRef,null),I(e.innerHeightRef,null))}}function Wn(i,e,s,t,n,a,o){return Object.assign(Object.assign({},se(i,o.dateEnv)),{level:0,text:o.dateEnv.format(i,a)[0],time:e,isMajor:!1,isMinor:s,isTime:!0,isNarrow:t,hasNavLink:!1,isFirst:n,view:o.viewApi})}function Pn(i){return i.text}class Ft extends B{constructor(){super(...arguments),this.getDateMeta=C(se)}render(){let{props:e,context:s}=this,{options:t}=s,n=Object.assign(Object.assign({},this.getDateMeta(e.date,s.dateEnv)),{time:e.time,isMajor:!1,isMinor:!e.isLabeled,view:s.viewApi});return l(_,{tag:"div",attrs:{"data-time":e.isoTimeStr},className:v(r.tight,r.liquid,e.borderTop?r.borderOnlyT:r.borderNone),renderProps:n,generatorName:void 0,classNameGenerator:t.slotLaneClass,didMount:t.slotLaneDidMount,willUnmount:t.slotLaneWillUnmount})}}const kn=q({week:"short"});class zt extends B{constructor(){super(...arguments),this.innerElRef=L()}render(){let{props:e,context:s}=this,{options:t,dateEnv:n}=s,a=e.dateProfile.renderRange,d=ls(a.start,a.end)===1&&t.navLinks,h=a.start,c=re(s,h,"week"),g=n.computeWeekNumber(h),[f,u]=n.format(h,t.weekNumberFormat||kn),m=n.toDate(h);const p={num:g,text:f,textParts:u,date:m,isNarrow:e.isNarrow,hasNavLink:d,options:{dayMinWidth:t.dayMinWidth}};return l(_,{tag:"div",attrs:{role:"gridcell","aria-label":c},className:v(r.flexRow,r.tight,e.isLiquid?r.liquid:r.contentBox),style:{width:e.width},renderProps:p,generatorName:"weekNumberHeaderContent",customGenerator:t.weekNumberHeaderContent,defaultGenerator:Re,classNameGenerator:t.weekNumberHeaderClass,didMount:t.weekNumberHeaderDidMount,willUnmount:t.weekNumberHeaderWillUnmount},S=>l("div",{ref:this.innerElRef,className:v(r.flexRow,r.rigid)},l(S,{tag:"div",attrs:d?ne(s,a.start,"week",c):{"aria-label":c},className:D(t.weekNumberHeaderInnerClass,p)})))}componentDidMount(){const{props:e}=this,s=this.innerElRef.current;this.disconnectInnerSize=De(s,(t,n)=>{I(e.innerWidthRef,t),I(e.innerHeightRef,n)})}componentWillUnmount(){const{props:e}=this;this.disconnectInnerSize(),I(e.innerWidthRef,null),I(e.innerHeightRef,null)}}function jt(i){return l("div",{role:"gridcell",className:i.isLiquid?r.liquid:r.contentBox,style:{width:i.width}})}class Bn extends B{constructor(){super(...arguments),this.state={headerTierHeights:[]},this.headerLabelInnerWidthRefMap=new U(()=>{A(this.handleAxisWidths)}),this.headerLabelInnerHeightRefMap=new U(()=>{A(this.handleHeaderHeights)}),this.headerMainInnerHeightRefMap=new U(()=>{A(this.handleHeaderHeights)}),this.handleAllDayLabelInnerWidth=e=>{this.allDayLabelInnerWidth=e,A(this.handleAxisWidths)},this.slatLabelInnerWidthRefMap=new U(()=>{A(this.handleAxisWidths)}),this.slatLabelInnerHeightRefMap=new U(()=>{A(this.handleSlatInnerHeights)}),this.headerScrollerRef=L(),this.allDayScrollerRef=L(),this.mainScrollerRef=L(),this.footScrollerRef=L(),this.axisScrollerRef=L(),this.handleTotalWidth=e=>{this.setState({totalWidth:e})},this.handleBodyHeight=e=>{this.setState({bodyHeight:e})},this.handleClientWidth=e=>{this.setState({clientWidth:e})},this.handleClientHeight=e=>{this.setState({clientHeight:e})},this.handleStickyBottomScrollbarWidth=e=>{this.setState({sticykBottomScrollbarWidth:e})},this.handleHeaderHeights=()=>{const e=this.headerLabelInnerHeightRefMap.current,s=this.headerMainInnerHeightRefMap.current,t=[];for(const[a,o]of s.entries())t[a]=Math.max(e.get(a)||0,o);const{headerTierHeights:n}=this.state;rs(n,t)||this.setState({headerTierHeights:t})},this.handleSlatInnerHeights=()=>{const e=this.slatLabelInnerHeightRefMap.current;let s=0;for(const t of e.values())s=Math.max(s,t);this.state.slatInnerHeight!==s&&this.setState({slatInnerHeight:s})},this.handleAxisWidths=()=>{const e=this.headerLabelInnerWidthRefMap.current,s=this.slatLabelInnerWidthRefMap.current;let t=this.allDayLabelInnerWidth||0;for(const n of e.values())t=Math.max(t,n);for(const n of s.values())t=Math.max(t,n);this.state.axisWidth!==t&&this.setState({axisWidth:t})}}render(){const{props:e,state:s,context:t,headerLabelInnerWidthRefMap:n,headerLabelInnerHeightRefMap:a,headerMainInnerHeightRefMap:o,slatLabelInnerWidthRefMap:d,slatLabelInnerHeightRefMap:h}=this,{nowDate:c,headerTiers:g,forPrint:f}=e,{axisWidth:u,totalWidth:m,clientWidth:p,clientHeight:S,bodyHeight:w,sticykBottomScrollbarWidth:R}=s,{options:y}=t,E=m!=null&&p!=null&&u!=null?m-p-(u+1):void 0,b=!f&&!ee(y),H=!f&&ve(y),x=!f&&dt(y),N=f&&!Z,T=f&&Z,M=e.cells.length,[W,k]=Ct(M,e.dayMinWidth,p),z=k!=null&&k<=le,O=z||k!=null&&k<=y.dayNarrowWidth,oe=e.slatMetas.length,[$,de]=Wt(b&&y.expandRows,oe,s.slatInnerHeight,S);this.slatHeight=$;const qe=($||0)*oe,Ue=N?qe:void 0,Me=b&&!y.expandRows&&S!=null&&S>qe,Xe=y.dayHeaders?g.length+1:1,_e=x?R:w!=null&&S!=null?w-S:void 0;return l(F,null,y.dayHeaders&&l("div",{className:v(D(y.tableHeaderClass,{isSticky:H}),e.borderlessX&&r.borderlessX,r.flexCol,H&&r.tableHeaderSticky),style:{zIndex:1}},l("div",{className:r.flexRow},l("div",{role:"rowgroup",className:r.contentBox,style:{width:u}},g.map((X,G)=>l("div",{key:G,role:"row","aria-rowindex":G+1,className:P(y.dayHeaderRowClass,r.flexRow,r.contentBox,G<e.headerTiers.length-1?r.borderOnlyB:r.borderNone),style:{height:s.headerTierHeights[G]}},y.weekNumbers&&X.isDateRow?l(zt,{dateProfile:e.dateProfile,innerWidthRef:n.createRef(G),innerHeightRef:a.createRef(G),width:void 0,isLiquid:!0,isNarrow:O}):l(jt,{width:void 0,isLiquid:!0})))),l("div",{className:D(y.slotHeaderDividerClass,{isHeader:!0,options:{dayMinWidth:y.dayMinWidth}})}),l(V,{horizontal:!0,hideScrollbars:!0,className:v(r.flexRow,r.liquid),ref:this.headerScrollerRef},l("div",{role:"rowgroup",className:W==null?r.liquid:"",style:{width:W}},e.headerTiers.map((X,G)=>l(Ne,Object.assign({},X,{key:G,role:"row",rowIndex:G,borderBottom:G<e.headerTiers.length-1,height:s.headerTierHeights[G],colWidth:k,innerHeightRef:o.createRef(G),cellIsNarrow:O,cellIsMicro:z,rowLevel:e.headerTiers.length-G-1})))),!!E&&l("div",{className:P(D(y.fillerClass,{isHeader:!0}),r.borderOnlyS),style:{minWidth:E}}))),l("div",{className:D(y.dayHeaderDividerClass,{isSticky:H,options:{allDaySlot:!!y.allDaySlot}})})),l("div",{role:"rowgroup",className:P(y.tableBodyClass,e.borderlessX&&r.borderlessX,H&&r.borderlessTop,(H||e.noEdgeEffects)&&r.noEdgeEffects,r.flexCol,b&&r.liquid,r.isolate),style:{zIndex:0}},y.allDaySlot&&l(F,null,l("div",{role:"row","aria-rowindex":Xe,className:r.flexRow,style:{zIndex:1}},l(It,{width:u,innerWidthRef:this.handleAllDayLabelInnerWidth,isNarrow:O}),l("div",{className:D(y.slotHeaderDividerClass,{isHeader:!1,options:{dayMinWidth:y.dayMinWidth}})}),l(V,{horizontal:!0,hideScrollbars:!0,className:v(r.flexRow,r.liquidX),ref:this.allDayScrollerRef},l("div",{className:r.flexRow,style:{width:W}},l(Tt,{dateProfile:e.dateProfile,todayRange:e.todayRange,cells:e.cells,showDayNumbers:!1,forPrint:f,isHitComboAllowed:e.isHitComboAllowed,className:v(r.borderNone,r.liquidX),cellIsNarrow:O,cellIsMicro:z,fgEventSegs:e.fgEventSegs,bgEventSegs:e.bgEventSegs,businessHourSegs:e.businessHourSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,colWidth:k})),!!E&&l("div",{className:P(D(y.fillerClass,{isHeader:!1}),r.borderOnlyS),style:{minWidth:E}}))),l("div",{className:P(y.allDayDividerClass),style:{zIndex:2}})),l("div",{role:"row","aria-rowindex":Xe+(y.allDaySlot?1:0),className:v(r.flexRow,r.rel,b&&r.liquid),style:{zIndex:0}},l(V,{vertical:b,hideScrollbars:!0,className:v(r.flexCol,r.contentBox),style:{width:u},ref:this.axisScrollerRef,clientHeightRef:this.handleBodyHeight},!T&&l(F,null,l("div",{role:"rowheader","aria-label":y.timedText,className:v(r.flexCol,r.grow,r.rel),style:{height:Ue}},l("div",{"aria-hidden":!0,className:v(r.flexCol,b&&y.expandRows&&r.grow,N&&r.fillX)},e.slatMetas.map((X,G)=>l(Ot,Object.assign({},X,{key:X.key,innerWidthRef:d.createRef(X.key),innerHeightRef:h.createRef(X.key),borderTop:!!G,isNarrow:O,height:de?void 0:$,liquidHeight:de})))),y.nowIndicator&&St(e.dateProfile.currentRange,c)&&l(Lt,{nowDate:c,dateProfile:e.dateProfile,totalHeight:$!=null?$*oe:void 0}),!!(Me||_e)&&l("div",{class:P(D(y.fillerClass,{isHeader:!1}),r.borderOnlyT,Me&&r.liquid),style:{minHeight:_e}})))),l("div",{className:D(y.slotHeaderDividerClass,{isHeader:!1,options:{dayMinWidth:y.dayMinWidth}})}),l("div",{className:v(r.flexCol,r.liquid)},l(V,{vertical:b,horizontal:!0,hideScrollbars:x||f,className:v(r.flexCol,r.rel,b&&r.liquid),ref:this.mainScrollerRef,clientWidthRef:this.handleClientWidth,clientHeightRef:this.handleClientHeight},l("div",{className:v(r.flexCol,r.grow,r.rel),style:{width:W,height:Ue}},l(Ge,{dateProfile:e.dateProfile,nowDate:e.nowDate,todayRange:e.todayRange,cells:e.cells,slatCnt:oe,forPrint:f,isHitComboAllowed:e.isHitComboAllowed,className:T?"":r.fill,fgEventSegsByCol:e.fgEventSegsByCol,bgEventSegsByCol:e.bgEventSegsByCol,businessHourSegsByCol:e.businessHourSegsByCol,nowIndicatorSegsByCol:e.nowIndicatorSegsByCol,dateSelectionSegsByCol:e.dateSelectionSegsByCol,eventDragByCol:e.eventDragByCol,eventResizeByCol:e.eventResizeByCol,eventSelection:e.eventSelection,colWidth:k,slatHeight:$,cellIsNarrow:O,cellIsMicro:z}),!T&&l(F,null,l("div",{"aria-hidden":!0,className:v(r.flexCol,b&&y.expandRows&&r.grow,N?r.fillX:r.rel)},e.slatMetas.map((X,G)=>l("div",{key:X.key,className:v(r.flexRow,de&&r.liquid),style:{height:de?"":$}},l(Ft,Object.assign({},X,{borderTop:!!G}))))),Me&&l("div",{class:P(D(y.fillerClass,{isHeader:!1}),r.borderOnlyT,r.liquid)})))),!!x&&l(ct,{isSticky:!0,canvasWidth:W,scrollerRef:this.footScrollerRef,scrollbarWidthRef:this.handleStickyBottomScrollbarWidth})))),l(be,{widthRef:this.handleTotalWidth}))}componentDidMount(){this.initScrollers(),this.updateSlatHeight()}componentDidUpdate(){this.updateScrollers(),this.updateSlatHeight()}componentWillUnmount(){this.destroyScrollers(),I(this.props.slatHeightRef,null)}updateSlatHeight(){this.prevSlatHeight!==this.slatHeight&&I(this.props.slatHeightRef,this.prevSlatHeight=this.slatHeight)}initScrollers(){const e=ht(this.context.pluginHooks);this.dayScroller=new e(!0),this.timeScroller=new e,I(this.props.dayScrollerRef,this.dayScroller),I(this.props.timeScrollerRef,this.timeScroller),this.updateScrollers()}updateScrollers(){this.dayScroller.handleChildren([this.headerScrollerRef.current,this.allDayScrollerRef.current,this.mainScrollerRef.current,this.footScrollerRef.current]),this.timeScroller.handleChildren([this.axisScrollerRef.current,this.mainScrollerRef.current])}destroyScrollers(){I(this.props.dayScrollerRef,null),I(this.props.timeScrollerRef,null)}}class Ln extends B{constructor(){super(...arguments),this.headerLabelInnerWidthRefMap=new U(()=>{A(this.handleAxisInnerWidths)}),this.handleAllDayLabelInnerWidth=e=>{this.allDayLabelInnerWidth=e,A(this.handleAxisInnerWidths)},this.handleWeekNumberInnerWidth=e=>{this.weekNumberInnerWidth=e,A(this.handleAxisInnerWidths)},this.slatLabelInnerWidthRefMap=new U(()=>{A(this.handleAxisInnerWidths)}),this.slatLabelInnerHeightRefMap=new U(()=>{A(this.handleSlatInnerHeights)}),this.handleTotalWidth=e=>{requestAnimationFrame(()=>{this.setState({totalWidth:e})})},this.handleClientWidth=e=>{this.setState({clientWidth:e})},this.handleClientHeight=e=>{this.setState({clientHeight:e})},this.handleAxisInnerWidths=()=>{const e=this.headerLabelInnerWidthRefMap.current,s=this.slatLabelInnerWidthRefMap.current;let t=Math.max(this.weekNumberInnerWidth||0,this.allDayLabelInnerWidth||0);for(const n of e.values())t=Math.max(t,n);for(const n of s.values())t=Math.max(t,n);this.state.axisWidth!==t&&this.setState({axisWidth:t})},this.handleSlatInnerHeights=()=>{const e=this.slatLabelInnerHeightRefMap.current;let s=0;for(const t of e.values())s=Math.max(s,t);this.state.slatInnerHeight!==s&&this.setState({slatInnerHeight:s})}}render(){const{props:e,state:s,context:t,slatLabelInnerWidthRefMap:n,slatLabelInnerHeightRefMap:a,headerLabelInnerWidthRefMap:o}=this,{nowDate:d,forPrint:h}=e,{axisWidth:c,clientWidth:g,totalWidth:f}=s,{options:u}=t,m=f!=null&&g!=null?f-g:void 0,p=!h&&!ee(u),S=!h&&ve(u),w=e.slatMetas.length,[R,y]=Wt(p&&u.expandRows,w,s.slatInnerHeight,s.clientHeight);this.slatHeight=R;const E=(R||0)*w,b=p&&!u.expandRows&&s.clientHeight!=null&&s.clientHeight>E,H=h&&!Z,x=h&&Z,N=H?E:void 0,T=e.cells.length,M=g!=null?g/T:void 0,W=M!=null&&M<=le,k=W||M!=null&&M<=u.dayNarrowWidth;return l(F,null,u.dayHeaders&&l("div",{role:"rowgroup",className:v(D(u.tableHeaderClass,{isSticky:S}),e.borderlessX&&r.borderlessX,r.flexCol,S&&r.tableHeaderSticky),style:{zIndex:1}},e.headerTiers.map((z,O)=>l("div",{key:O,role:"row",className:r.flexRow},l("div",{className:P(u.dayHeaderRowClass,r.flexRow,O<e.headerTiers.length-1?r.borderOnlyB:r.borderNone)},u.weekNumbers&&z.isDateRow?l(zt,{dateProfile:e.dateProfile,innerWidthRef:this.handleWeekNumberInnerWidth,innerHeightRef:o.createRef(O),width:c,isLiquid:!1,isNarrow:k}):l(jt,{width:c,isLiquid:!1})),l("div",{className:D(u.slotHeaderDividerClass,{isHeader:!0,options:{dayMinWidth:u.dayMinWidth}})}),l(Ne,Object.assign({},z,{className:r.liquid,borderBottom:O<e.headerTiers.length-1,cellIsNarrow:k,cellIsMicro:W,rowLevel:0})),!!m&&l("div",{className:P(D(u.fillerClass,{isHeader:!0}),r.borderOnlyS),style:{minWidth:m}}))),l("div",{className:D(u.dayHeaderDividerClass,{isSticky:S,options:{allDaySlot:!!u.allDaySlot}})})),l("div",{role:"rowgroup",className:P(u.tableBodyClass,e.borderlessX&&r.borderlessX,S&&r.borderlessTop,(S||e.noEdgeEffects)&&r.noEdgeEffects,r.flexCol,p&&r.liquid,r.isolate),style:{zIndex:0}},u.allDaySlot&&l(F,null,l("div",{role:"row",className:r.flexRow,style:{zIndex:1}},l(It,{width:c,innerWidthRef:this.handleAllDayLabelInnerWidth,isNarrow:k}),l("div",{className:D(u.slotHeaderDividerClass,{isHeader:!1,options:{dayMinWidth:u.dayMinWidth}})}),l(Tt,{dateProfile:e.dateProfile,todayRange:e.todayRange,cells:e.cells,showDayNumbers:!1,forPrint:h,isHitComboAllowed:e.isHitComboAllowed,className:v(r.liquidX,r.borderNone),cellIsNarrow:k,cellIsMicro:W,fgEventSegs:e.fgEventSegs,bgEventSegs:e.bgEventSegs,businessHourSegs:e.businessHourSegs,dateSelectionSegs:e.dateSelectionSegs,eventDrag:e.eventDrag,eventResize:e.eventResize,eventSelection:e.eventSelection,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows}),!!m&&l("div",{className:P(D(u.fillerClass,{isHeader:!1}),r.borderOnlyS),style:{minWidth:m}})),l("div",{className:P(u.allDayDividerClass),style:{zIndex:2}})),l(V,{vertical:p,className:v(r.flexCol,r.rel,p&&r.liquid),style:{zIndex:0},ref:e.timeScrollerRef,clientWidthRef:this.handleClientWidth,clientHeightRef:this.handleClientHeight},l("div",{className:v(r.flexCol,r.grow,r.rel),style:{height:N}},l("div",{role:"row",className:v(r.flexRow,!x&&r.fill)},l("div",{role:"rowheader","aria-label":u.timedText,className:r.contentBox,style:{width:c}}),l("div",{className:D(u.slotHeaderDividerClass,{isHeader:!1,options:{dayMinWidth:u.dayMinWidth}})}),l(Ge,{dateProfile:e.dateProfile,nowDate:e.nowDate,todayRange:e.todayRange,cells:e.cells,slatCnt:w,forPrint:h,isHitComboAllowed:e.isHitComboAllowed,className:r.liquid,fgEventSegsByCol:e.fgEventSegsByCol,bgEventSegsByCol:e.bgEventSegsByCol,businessHourSegsByCol:e.businessHourSegsByCol,nowIndicatorSegsByCol:e.nowIndicatorSegsByCol,dateSelectionSegsByCol:e.dateSelectionSegsByCol,eventDragByCol:e.eventDragByCol,eventResizeByCol:e.eventResizeByCol,eventSelection:e.eventSelection,slatHeight:R,cellIsNarrow:k,cellIsMicro:W})),!x&&l(F,null,l("div",{"aria-hidden":!0,className:v(r.flexCol,p&&u.expandRows&&r.grow,H?r.fillX:r.rel)},e.slatMetas.map((z,O)=>l("div",{key:z.key,className:v(y&&r.liquid,r.flexRow),style:{height:y?void 0:R}},l("div",{className:r.flexCol,style:{width:c}},l(Ot,Object.assign({},z,{innerWidthRef:n.createRef(z.key),innerHeightRef:a.createRef(z.key),borderTop:!!O,isNarrow:k}))),l("div",{className:D(u.slotHeaderDividerClass,{isHeader:!1,options:{dayMinWidth:u.dayMinWidth}}),style:{visibility:"hidden"}}),l(Ft,Object.assign({},z,{borderTop:!!O}))))),b&&l("div",{class:P(D(u.fillerClass,{isHeader:!1}),r.borderOnlyT,r.liquid)}),u.nowIndicator&&St(e.dateProfile.currentRange,d)&&l(Lt,{nowDate:d,dateProfile:e.dateProfile,totalHeight:R!=null?R*w:void 0}))))),l(be,{widthRef:this.handleTotalWidth}))}componentDidMount(){this.updateSlatHeight()}componentDidUpdate(){this.updateSlatHeight()}componentWillUnmount(){I(this.props.slatHeightRef,null)}updateSlatHeight(){this.prevSlatHeight!==this.slatHeight&&I(this.props.slatHeightRef,this.prevSlatHeight=this.slatHeight)}}class On extends B{constructor(){super(...arguments),this.buildSlatMetas=C(fn),this.dayScrollerRef=L(),this.timeScrollerRef=L(),this.scrollState={},this.handleSlatHeight=e=>{this.slatHeight=e,e!=null&&A(this.applyTimeScroll)},this.handleTimeScrollRequest=e=>{this.scrollState.time=e,this.scrollState.y=void 0,this.applyTimeScroll()},this.handleTimeScrollEnd=e=>{if(e){const s=this.timeScrollerRef.current.y;this.props.forPrint||(this.scrollState.y=s,this.scrollState.time=void 0)}},this.applyTimeScroll=()=>{const e=this.timeScrollerRef.current,{slatHeight:s,scrollState:t}=this;let{y:n,time:a}=t;n==null&&a&&s!=null&&e&&(n=Pt(a,this.props.dateProfile)*(s*this.currentSlatCnt),n&&n++,t.y=n),n!=null&&e.scrollTo({y:n})}}render(){const{props:e,context:s}=this,{dateProfile:t}=e,{options:n,dateEnv:a}=s,{dayMinWidth:o}=n,d=this.buildSlatMetas(t.slotMinTime,t.slotMaxTime,n.slotHeaderInterval,n.slotDuration,a);this.currentSlatCnt=d.length;const h=Object.assign(Object.assign({dateProfile:t,nowDate:e.nowDate,todayRange:e.todayRange,cells:e.cells,slatMetas:d,forPrint:e.forPrint,isHitComboAllowed:e.isHitComboAllowed,headerTiers:e.headerTiers,fgEventSegs:e.fgEventSegs,bgEventSegs:e.bgEventSegs,businessHourSegs:e.businessHourSegs,dateSelectionSegs:e.dateSelectionSegs,eventDrag:e.eventDrag,eventResize:e.eventResize},zn(n)),{fgEventSegsByCol:e.fgEventSegsByCol,bgEventSegsByCol:e.bgEventSegsByCol,businessHourSegsByCol:e.businessHourSegsByCol,nowIndicatorSegsByCol:e.nowIndicatorSegsByCol,dateSelectionSegsByCol:e.dateSelectionSegsByCol,eventDragByCol:e.eventDragByCol,eventResizeByCol:e.eventResizeByCol,eventSelection:e.eventSelection,timeScrollerRef:this.timeScrollerRef,timeScrollState:this.scrollState,slatHeightRef:this.handleSlatHeight,borderlessX:e.borderlessX,noEdgeEffects:e.noEdgeEffects});return l(Se,{attrs:{role:"grid","aria-colcount":e.cells.length,"aria-labelledby":e.labelId,"aria-label":e.labelStr},className:P(e.className,n.tableClass,!e.forPrint&&r.flexCol,r.isolate),viewSpec:s.viewSpec,borderlessX:e.borderlessX,borderlessTop:e.borderlessTop,borderlessBottom:e.borderlessBottom,noEdgeEffects:e.noEdgeEffects},o?l(Bn,Object.assign({},h,{dayMinWidth:o,dayScrollerRef:this.dayScrollerRef})):l(Ln,Object.assign({},h)))}componentDidMount(){this.resetScroll(),this.context.emitter.on("_timeScrollRequest",this.handleTimeScrollRequest),this.timeScrollerRef.current.addScrollEndListener(this.handleTimeScrollEnd)}componentDidUpdate(e){e.dateProfile!==this.props.dateProfile&&this.context.options.scrollTimeReset?this.resetScroll():e.forPrint&&!this.props.forPrint&&this.applyTimeScroll()}componentWillUnmount(){this.context.emitter.off("_timeScrollRequest",this.handleTimeScrollRequest),this.timeScrollerRef.current.removeScrollEndListener(this.handleTimeScrollEnd)}resetScroll(){this.handleTimeScrollRequest(this.context.options.scrollTime);const e=this.dayScrollerRef.current;e&&e.scrollTo({x:0})}}const Fn=5;function zn(i){let{dayMaxEvents:e,dayMaxEventRows:s}=i;return(e===!0||s===!0)&&(e=void 0,s=Fn),{dayMaxEvents:e,dayMaxEventRows:s}}class jn extends Y{constructor(){super(...arguments),this.createDayHeaderFormatter=C(ze),this.buildTimeColsModel=C(yn),this.buildDayRanges=C(Sn),this.buildDateRowConfigs=C(vt),this.splitFgEventSegs=C(ie),this.splitBgEventSegs=C(ie),this.splitBusinessHourSegs=C(ie),this.splitNowIndicatorSegs=C(ie),this.splitDateSelectionSegs=C(ie),this.splitEventDrag=C(tt),this.splitEventResize=C(tt),this.allDaySplitter=new un,this.dayTableSlicer=new Le,this.dayTimeColsSlicer=new gn}render(){const{props:e,context:s}=this,{dateProfile:t}=e,{options:n,dateProfileGenerator:a}=s,o=this.buildTimeColsModel(t,a,s.dateEnv),d=this.buildDayRanges(o,t,s.dateEnv),h=this.allDaySplitter.splitProps(e),c=this.dayTableSlicer.sliceProps(h.allDay,t,n.nextDayThreshold,s,o),g=this.dayTimeColsSlicer.sliceProps(h.timed,t,null,s,d),f=this.createDayHeaderFormatter(s.options.dayHeaderFormat,!0,o.colCount);return l(ye,{unit:n.nowIndicator?"minute":"day"},(u,m)=>{const p=o.cellRows[0].length,S=n.nowIndicator&&this.dayTimeColsSlicer.sliceNowDate(u,t,n.nextDayThreshold,s,d),w=this.splitFgEventSegs(g.fgEventSegs,p),R=this.splitBgEventSegs(g.bgEventSegs,p),y=this.splitBusinessHourSegs(g.businessHourSegs,p),E=this.splitNowIndicatorSegs(S,p),b=this.splitDateSelectionSegs(g.dateSelectionSegs,p),H=this.splitEventDrag(g.eventDrag,p),x=this.splitEventResize(g.eventResize,p),N=this.buildDateRowConfigs(o.headerDates,!0,e.dateProfile,m,f,s);return l(On,{labelId:e.labelId,labelStr:e.labelStr,dateProfile:t,nowDate:u,todayRange:m,cells:o.cellRows[0],forPrint:e.forPrint,className:e.className,headerTiers:N,fgEventSegs:c.fgEventSegs,bgEventSegs:c.bgEventSegs,businessHourSegs:c.businessHourSegs,dateSelectionSegs:c.dateSelectionSegs,eventDrag:c.eventDrag,eventResize:c.eventResize,fgEventSegsByCol:w,bgEventSegsByCol:R,businessHourSegsByCol:y,nowIndicatorSegsByCol:E,dateSelectionSegsByCol:b,eventDragByCol:H,eventResizeByCol:x,eventSelection:e.eventSelection,borderlessX:e.borderlessX,borderlessTop:e.borderlessTop,borderlessBottom:e.borderlessBottom,noEdgeEffects:e.noEdgeEffects})})}}const An={allDayDividerClass:j};var Gn=Ce({name:"@fullcalendar/timegrid",initialView:"timeGridWeek",optionRefiners:An,views:{timeGrid:{component:jn,usesMinMaxTime:!0,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}});const qn=[qs,Gn,tn,fs,hn],Un=["dayGridMonth","timeGridWeek","timeGridDay","listWeek","multiMonthYear"],Xn="timeGridDay",_n="timeGridWeek";function $n({availableViews:i=Un,addButton:e,locale:s,className:t,height:n,contentHeight:a,direction:o,plugins:d=[],...h}){const c=cs(),g=n==="auto"||a==="auto";return ce.jsxs(hs,{direction:o,className:t,height:n,borderless:h.borderless,borderlessX:h.borderlessX,borderlessTop:h.borderlessTop,borderlessBottom:h.borderlessBottom,children:[ce.jsx(us,{controller:c,availableViews:i,addButton:e}),ce.jsx(gs,{controller:c,liquidHeight:!g&&n!==void 0,height:g?"auto":a,initialView:i[0],navLinkDayClick:Xn,navLinkWeekClick:_n,plugins:[...qn,...d],popoverCloseContent:()=>ce.jsx(ms,{}),...h})]})}export{un as A,Le as D,$n as E,On as T,zs as a,Ht as b,ze as c,bt as d,Ss as e,ys as f,Sn as g,gn as h,qs as i,yn as j,Gn as k,ie as o,tt as s};
